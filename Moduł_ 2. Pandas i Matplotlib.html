<!DOCTYPE html>
<!-- saved from url=(0051)https://kodilla.com/pl/bootcamp-module/704/484/6865 -->
<html lang="pl" class="js-focus-visible" data-js-focus-visible=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="ahrefs-site-verification" content="c2d3c04b9f125c5b8c98d89f738d343f69d841f035150344a932150235c5639a">
    
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="csrf-token" content="z7Lg5XaSyTbEtH4RcpWhewSEwkM0wiVK4iGvqeMC">

<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="https://kodilla.com/static/img/icons/apple-touch-icon-60x60.png?00000">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="https://kodilla.com/static/img/icons/apple-touch-icon-76x76.png?00000">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="https://kodilla.com/static/img/icons/apple-touch-icon-120x120.png?00000">
<link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://kodilla.com/static/img/icons/apple-touch-icon-152x152.png?00000">
<link rel="icon" type="image/png" sizes="32x32" href="https://kodilla.com/static/img/icons/favicon-32x32.png?00000">
<link rel="icon" type="image/png" sizes="96x96" href="https://kodilla.com/static/img/icons/favicon-96x96.png?00000">
<link rel="icon" type="image/png" sizes="16x16" href="https://kodilla.com/static/img/icons/favicon-16x16.png?00000">

    <link rel="canonical" href="https://kodilla.com/pl/bootcamp-module/704/484/6865">

    <meta name="robots" content="noindex, follow">
    <title>    Moduł: 2. Pandas i Matplotlib
</title>
        <script type="text/javascript" src="./Moduł_ 2. Pandas i Matplotlib_files/saved_resource"></script><script type="text/javascript" async="" src="./Moduł_ 2. Pandas i Matplotlib_files/js"></script><script type="text/javascript" async="" id="inspsync" src="./Moduł_ 2. Pandas i Matplotlib_files/inspectlet.js"></script><script type="text/javascript" async="" src="./Moduł_ 2. Pandas i Matplotlib_files/saved_resource(1)"></script><script async="" src="./Moduł_ 2. Pandas i Matplotlib_files/tfa.js" id="tb_tfa_script"></script><script type="text/javascript" async="" src="./Moduł_ 2. Pandas i Matplotlib_files/insight.min.js"></script><script type="text/javascript" async="" src="./Moduł_ 2. Pandas i Matplotlib_files/analytics.js"></script><script type="text/javascript" async="" src="./Moduł_ 2. Pandas i Matplotlib_files/js(1)"></script><script type="text/javascript" async="" src="./Moduł_ 2. Pandas i Matplotlib_files/analytics.js"></script><script async="" src="./Moduł_ 2. Pandas i Matplotlib_files/gtm.js"></script><script src="./Moduł_ 2. Pandas i Matplotlib_files/389137334769464" async=""></script><script async="" src="./Moduł_ 2. Pandas i Matplotlib_files/fbevents.js"></script><script src="./Moduł_ 2. Pandas i Matplotlib_files/sdk.js" async="" crossorigin="anonymous"></script><script id="facebook-jssdk" src="./Moduł_ 2. Pandas i Matplotlib_files/sdk(1).js"></script><script src="./Moduł_ 2. Pandas i Matplotlib_files/diffuser.js" async=""></script><script src="./Moduł_ 2. Pandas i Matplotlib_files/f.txt"></script><script src="./Moduł_ 2. Pandas i Matplotlib_files/f(1).txt" id="google_shimpl"></script><script>document.documentElement.classList.remove("no-js")</script>
<script src="./Moduł_ 2. Pandas i Matplotlib_files/yall.min.js"></script>
<link rel="stylesheet" href="./Moduł_ 2. Pandas i Matplotlib_files/bootstrap.min.css" as="style" onload="this.rel=&#39;stylesheet&#39;">
<link href="./Moduł_ 2. Pandas i Matplotlib_files/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" href="./Moduł_ 2. Pandas i Matplotlib_files/main-1ecb0c3ad2.css" as="style" onload="this.rel=&#39;stylesheet&#39;">
            
    <link href="./Moduł_ 2. Pandas i Matplotlib_files/prism.min.css" rel="stylesheet">

    <link href="./Moduł_ 2. Pandas i Matplotlib_files/bootcamp-60d3ba59ba.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="./Moduł_ 2. Pandas i Matplotlib_files/perfect-scrollbar.css">
    <link rel="stylesheet" href="./Moduł_ 2. Pandas i Matplotlib_files/jquery.fancybox.min.css" type="text/css" media="screen">
    <link href="https://kodilla.com/static/css/libs/bootstrap-datetimepicker.min.css?00000">
    <link rel="stylesheet" href="./Moduł_ 2. Pandas i Matplotlib_files/content.css">

<script async="" src="./Moduł_ 2. Pandas i Matplotlib_files/hotjar-2404285.js"></script><script src="./Moduł_ 2. Pandas i Matplotlib_files/OneSignalPageSDKES6.js" async=""></script><meta http-equiv="origin-trial" content="AxujKG9INjsZ8/gUq8+dTruNvk7RjZQ1oFhhgQbcTJKDnZfbzSTE81wvC2Hzaf3TW4avA76LTZEMdiedF1vIbA4AAABueyJvcmlnaW4iOiJodHRwczovL2ltYXNkay5nb29nbGVhcGlzLmNvbTo0NDMiLCJmZWF0dXJlIjoiVHJ1c3RUb2tlbnMiLCJleHBpcnkiOjE2NTI3NzQ0MDAsImlzVGhpcmRQYXJ0eSI6dHJ1ZX0="><meta http-equiv="origin-trial" content="Azuce85ORtSnWe1MZDTv68qpaW3iHyfL9YbLRy0cwcCZwVnePnOmkUJlG8HGikmOwhZU22dElCcfrfX2HhrBPAkAAAB7eyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiVHJ1c3RUb2tlbnMiLCJleHBpcnkiOjE2NTI3NzQ0MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="A16nvcdeoOAqrJcmjLRpl1I6f3McDD8EfofAYTt/P/H4/AWwB99nxiPp6kA0fXoiZav908Z8etuL16laFPUdfQsAAACBeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXRhZ3NlcnZpY2VzLmNvbTo0NDMiLCJmZWF0dXJlIjoiVHJ1c3RUb2tlbnMiLCJleHBpcnkiOjE2NTI3NzQ0MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="AxBHdr0J44vFBQtZUqX9sjiqf5yWZ/OcHRcRMN3H9TH+t90V/j3ENW6C8+igBZFXMJ7G3Pr8Dd13632aLng42wgAAACBeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiVHJ1c3RUb2tlbnMiLCJleHBpcnkiOjE2NTI3NzQ0MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="A88BWHFjcawUfKU3lIejLoryXoyjooBXLgWmGh+hNcqMK44cugvsI5YZbNarYvi3roc1fYbHA1AVbhAtuHZflgEAAAB2eyJvcmlnaW4iOiJodHRwczovL2dvb2dsZS5jb206NDQzIiwiZmVhdHVyZSI6IlRydXN0VG9rZW5zIiwiZXhwaXJ5IjoxNjUyNzc0NDAwLCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ=="><meta http-equiv="origin-trial" content="A8FHS1NmdCwGqD9DwOicnHHY+y27kdWfxKa0YHSGDfv0CSpDKRHTQdQmZVPDUdaFWUsxdgVxlwAd6o+dhJykPA0AAACWeyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiQ29udmVyc2lvbk1lYXN1cmVtZW50IiwiZXhwaXJ5IjoxNjQzMTU1MTk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlLCJ1c2FnZSI6InN1YnNldCJ9"><meta http-equiv="origin-trial" content="A8zdXi6dr1hwXEUjQrYiyYQGlU3557y5QWDnN0Lwgj9ePt66XMEvNkVWOEOWPd7TP9sBQ25X0Q15Lr1Nn4oGFQkAAACceyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiQ29udmVyc2lvbk1lYXN1cmVtZW50IiwiZXhwaXJ5IjoxNjQzMTU1MTk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlLCJ1c2FnZSI6InN1YnNldCJ9"><meta http-equiv="origin-trial" content="A4/Htern2udN9w3yJK9QgWQxQFruxOXsXL7cW60DyCl0EZFGCSme/J33Q/WzF7bBkVvhEWDlcBiUyZaim5CpFQwAAACceyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXRhZ3NlcnZpY2VzLmNvbTo0NDMiLCJmZWF0dXJlIjoiQ29udmVyc2lvbk1lYXN1cmVtZW50IiwiZXhwaXJ5IjoxNjQzMTU1MTk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlLCJ1c2FnZSI6InN1YnNldCJ9"><style type="text/css">.fancybox-margin{margin-right:15px;}</style><script async="" src="./Moduł_ 2. Pandas i Matplotlib_files/modules.2cec256bd961a22ae708.js" charset="utf-8"></script><style type="text/css">iframe#_hjRemoteVarsFrame {display: none !important; width: 1px !important; height: 1px !important; opacity: 0 !important; pointer-events: none !important;}</style><link href="./Moduł_ 2. Pandas i Matplotlib_files/esw.min.css" type="text/css" rel="stylesheet"><link rel="preload" href="./Moduł_ 2. Pandas i Matplotlib_files/f(2).txt" as="script"><script type="text/javascript" src="./Moduł_ 2. Pandas i Matplotlib_files/f(2).txt"></script><link rel="preload" href="./Moduł_ 2. Pandas i Matplotlib_files/f(3).txt" as="script"><script type="text/javascript" src="./Moduł_ 2. Pandas i Matplotlib_files/f(3).txt"></script><style type="text/css">
@font-face {
  font-weight: 400;
  font-style:  normal;
  font-family: 'Circular-Loom';

  src: url('https://cdn.loom.com/assets/fonts/circular/CircularXXWeb-Book-cd7d2bcec649b1243839a15d5eb8f0a3.woff2') format('woff2');
}

@font-face {
  font-weight: 500;
  font-style:  normal;
  font-family: 'Circular-Loom';

  src: url('https://cdn.loom.com/assets/fonts/circular/CircularXXWeb-Medium-d74eac43c78bd5852478998ce63dceb3.woff2') format('woff2');
}

@font-face {
  font-weight: 700;
  font-style:  normal;
  font-family: 'Circular-Loom';

  src: url('https://cdn.loom.com/assets/fonts/circular/CircularXXWeb-Bold-83b8ceaf77f49c7cffa44107561909e4.woff2') format('woff2');
}

@font-face {
  font-weight: 900;
  font-style:  normal;
  font-family: 'Circular-Loom';

  src: url('https://cdn.loom.com/assets/fonts/circular/CircularXXWeb-Black-bf067ecb8aa777ceb6df7d72226febca.woff2') format('woff2');
}</style><style id="inert-style">
[inert] {
	pointer-events: none;
	cursor: default;
}

[inert], [inert] * {
	user-select: none;
	-webkit-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
}
</style><script type="text/javascript" charset="utf-8" src="./Moduł_ 2. Pandas i Matplotlib_files/saved_resource(2)" async=""></script><style type="text/css" data-fbcssmodules="css:fb.css.base css:fb.css.dialog css:fb.css.iframewidget css:fb.css.customer_chat_plugin_iframe">.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_reposition{overflow:hidden;position:relative}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}@keyframes fb_transform{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.fb_animate{animation:fb_transform .3s forwards}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_dialog_advanced{border-radius:8px;padding:10px}.fb_dialog_content{background:#fff;color:#373737}.fb_dialog_close_icon{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{left:5px;right:auto;top:5px}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent}.fb_dialog_close_icon:active{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #365899;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{height:100%;left:0;margin:0;overflow:visible;position:absolute;top:-10000px;transform:none;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{background:none;height:auto;min-height:initial;min-width:initial;width:auto}.fb_dialog.fb_dialog_mobile.loading.centered #fb_dialog_loader_spinner{width:100%}.fb_dialog.fb_dialog_mobile.loading.centered .fb_dialog_content{background:none}.loading.centered #fb_dialog_loader_close{clear:both;color:#fff;display:block;font-size:18px;padding-top:20px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .4);bottom:0;left:0;min-height:100%;position:absolute;right:0;top:0;width:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_mobile .fb_dialog_iframe{position:sticky;top:0}.fb_dialog_content .dialog_header{background:linear-gradient(from(#738aba), to(#2c4987));border-bottom:1px solid;border-color:#043b87;box-shadow:white 0 1px 1px -1px inset;color:#fff;font:bold 14px Helvetica, sans-serif;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:linear-gradient(from(#4267B2), to(#2a4887));background-clip:padding-box;border:1px solid #29487d;border-radius:3px;display:inline-block;line-height:18px;margin-top:3px;max-width:85px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{background:none;border:none;color:#fff;font:bold 12px Helvetica, sans-serif;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #4a4a4a;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f5f6f7;border:1px solid #4a4a4a;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}#fb_dialog_loader_spinner{animation:rotateSpinner 1.2s linear infinite;background-color:transparent;background-image:url(https://static.xx.fbcdn.net/rsrc.php/v3/yD/r/t-wz8gw1xG1.png);background-position:50% 50%;background-repeat:no-repeat;height:24px;width:24px}@keyframes rotateSpinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_fluid_desktop,.fb_iframe_widget_fluid_desktop span,.fb_iframe_widget_fluid_desktop iframe{max-width:100%}.fb_iframe_widget_fluid_desktop iframe{min-width:220px;position:relative}.fb_iframe_widget_lift{z-index:1}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}
.fb_mpn_mobile_landing_page_slide_out{animation-duration:200ms;animation-name:fb_mpn_landing_page_slide_out;transition-timing-function:ease-in}.fb_mpn_mobile_landing_page_slide_out_from_left{animation-duration:200ms;animation-name:fb_mpn_landing_page_slide_out_from_left;transition-timing-function:ease-in}.fb_mpn_mobile_landing_page_slide_up{animation-duration:500ms;animation-name:fb_mpn_landing_page_slide_up;transition-timing-function:ease-in}.fb_mpn_mobile_bounce_in{animation-duration:300ms;animation-name:fb_mpn_bounce_in;transition-timing-function:ease-in}.fb_mpn_mobile_bounce_out{animation-duration:300ms;animation-name:fb_mpn_bounce_out;transition-timing-function:ease-in}.fb_mpn_mobile_bounce_out_v2{animation-duration:300ms;animation-name:fb_mpn_fade_out;transition-timing-function:ease-in}.fb_customer_chat_bounce_in_v2{animation-duration:300ms;animation-name:fb_bounce_in_v2;transition-timing-function:ease-in}.fb_customer_chat_bounce_in_from_left{animation-duration:300ms;animation-name:fb_bounce_in_from_left;transition-timing-function:ease-in}.fb_customer_chat_bounce_out_v2{animation-duration:300ms;animation-name:fb_bounce_out_v2;transition-timing-function:ease-in}.fb_customer_chat_bounce_out_from_left{animation-duration:300ms;animation-name:fb_bounce_out_from_left;transition-timing-function:ease-in}.fb_invisible_flow{display:inherit;height:0;overflow-x:hidden;width:0}@keyframes fb_mpn_landing_page_slide_out{0%{margin:0 12px;width:100% - 24px}60%{border-radius:18px}100%{border-radius:50%;margin:0 24px;width:60px}}@keyframes fb_mpn_landing_page_slide_out_from_left{0%{left:12px;width:100% - 24px}60%{border-radius:18px}100%{border-radius:50%;left:12px;width:60px}}@keyframes fb_mpn_landing_page_slide_up{0%{bottom:0;opacity:0}100%{bottom:24px;opacity:1}}@keyframes fb_mpn_bounce_in{0%{opacity:.5;top:100%}100%{opacity:1;top:0}}@keyframes fb_mpn_fade_out{0%{bottom:30px;opacity:1}100%{bottom:0;opacity:0}}@keyframes fb_mpn_bounce_out{0%{opacity:1;top:0}100%{opacity:.5;top:100%}}@keyframes fb_bounce_in_v2{0%{opacity:0;transform:scale(0, 0);transform-origin:bottom right}50%{transform:scale(1.03, 1.03);transform-origin:bottom right}100%{opacity:1;transform:scale(1, 1);transform-origin:bottom right}}@keyframes fb_bounce_in_from_left{0%{opacity:0;transform:scale(0, 0);transform-origin:bottom left}50%{transform:scale(1.03, 1.03);transform-origin:bottom left}100%{opacity:1;transform:scale(1, 1);transform-origin:bottom left}}@keyframes fb_bounce_out_v2{0%{opacity:1;transform:scale(1, 1);transform-origin:bottom right}100%{opacity:0;transform:scale(0, 0);transform-origin:bottom right}}@keyframes fb_bounce_out_from_left{0%{opacity:1;transform:scale(1, 1);transform-origin:bottom left}100%{opacity:0;transform:scale(0, 0);transform-origin:bottom left}}@keyframes slideInFromBottom{0%{opacity:.1;transform:translateY(100%)}100%{opacity:1;transform:translateY(0)}}@keyframes slideInFromBottomDelay{0%{opacity:0;transform:translateY(100%)}97%{opacity:0;transform:translateY(100%)}100%{opacity:1;transform:translateY(0)}}</style><script type="text/javascript" charset="utf-8" src="./Moduł_ 2. Pandas i Matplotlib_files/t_prism_sitemessages.php" async=""></script><style type="text/css">.inspectlet-widget { position: fixed; height: 50px; width: 50px; background: #2c8aff; bottom: 20px; right: 20px; border-radius: 50px; box-shadow: 0 0 5px rgb(0 0 0 / 20%), 0 0 10px rgb(255 255 255 / 10%) inset; border: 2px solid rgb(38 132 234); display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all .25s ease; } .inspectlet-widget:hover{ opacity: .8; }

.inspectlet-widget img{ height: 70%; width: 70%; }</style></head>
<body class="student callus-enabled">
<!-- Facebook Pixel Code -->
<noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=389137334769464&ev=PageView&noscript=1"/></noscript>
<!-- End Facebook Pixel Code -->
<script>
    document.getElementsByTagName('body')[0].classList.remove('no-js');
    if ( window.isDifferentZone ) {
        document.querySelector('body').classList.add('time-conversion-applied');
    }
    if ( window.hasWrongTime ) {
        document.querySelector('body').classList.add('wrong-hour');
    }
</script>

    <nav class="navbar-main hidden-sm-down dark navbar">
    <div class="nav-container">
        <div class="navbar-header clearfix">
            <button class="navbar-toggler hidden-md-up pull-right" type="button" data-toggle="collapse" data-target="#collapsingNavbarUpper"><i class="fa fa-bars"></i></button>
        </div>
        <div class="collapse navbar-toggleable-sm container" id="collapsingNavbarUpper">
            <ul class="nav navbar-nav navbar-nav-left">
                                    <li class="nav-item nav-contact">
    <span>Skontaktuj się z nami:</span>
    <a href="mailto:support@kodilla.com">
        <i class="fa fa-envelope-o"></i>
        support@kodilla.com
    </a>
    <span>lub</span>
    <a href="javascript:openChat();">
        <i class="fa fa-comments"></i>
        porozmawiaj na czacie
    </a>
</li>
                                </ul>
            <ul class="nav navbar-nav pull-right">
                                <li class="nav-item">
                    <a href="https://kodilla.com/pl/informator" class="nav-link" target="_blank">
        Informator
    </a>
                </li>
                <li class="nav-item hidden-sm-down">
    <a href="https://kodilla.com/pl/account" class="nav-link">Konto</a>
</li>
        <li class="nav-item">
    <a class="analytics-track nav-link nav-link-accent" data-event="account_logout" href="https://kodilla.com/pl/sign-out">Wyloguj</a>
</li>
                            </ul>
        </div>
    </div>
</nav>
<nav class="navbar-main light navbar">
    <div class="container clearfix">
        <a class="navbar-brand" href="https://kodilla.com/pl">
            <img src="./Moduł_ 2. Pandas i Matplotlib_files/kodilla-nav-logo.svg" alt="Kodilla - szkoła programowania">
        </a>
        <span class="contact-us-button-container"></span>
        <button class="navbar-toggler pull-right collapsed" type="button" data-toggle="collapse" data-target="#navbar-main">
            <i class="fa fa-bars navbar-ico-open"></i>
            <i class="fa fa-times navbar-ico-close"></i>
        </button>
        <ul id="navbar-main" class="nav navbar-nav pull-right collapse">
            <li class="nav-item hidden-sm-down">
    <a class="dropdown-toggle nav-link" id="bootcamps-nav-link" href="https://kodilla.com/pl/poznaj-nasze-bootcampy">
        Szkolenia Bootcamp
    </a>
    <ul class="bootcamp-list">
                    <li class="list-sub list-sub-fe">
                <a href="https://kodilla.com/pl/bootcamp/front-end">
                    <h4 class="bootcamp-name">Front-end: React</h4>
                </a>
            </li>
            <li class="list-sub">
                <a href="https://kodilla.com/pl/bootcamp/java?type=jdp">
                    <h4 class="bootcamp-name">Java Developer</h4>
                </a>
            </li>
            <li class="list-sub">
                <a href="https://kodilla.com/pl/bootcamp/full-stack?type=fsp">
                    <h4 class="bootcamp-name">Full Stack Developer</h4>
                    <span class="bootcamp-label">nowość</span>
                </a>
            </li>
            <li class="list-sub">
                <a href="https://kodilla.com/pl/bootcamp/python">
                    <h4 class="bootcamp-name">Python Developer</h4>
                </a>
            </li>
            <li class="list-sub">
                <a href="https://kodilla.com/pl/bootcamp/tester-automatyzujacy">
                    <h4 class="bootcamp-name">Tester Automatyzujący</h4>
                </a>
            </li>
            <li class="list-sub">
                <a href="https://kodilla.com/pl/bootcamp/game-dev">
                    <h4 class="bootcamp-name">Unity Developer</h4>
                </a>
            </li>
            <li class="list-sub">
                <a href="https://kodilla.com/pl/bootcamp/data-science">
                    <h4 class="bootcamp-name">Data Science</h4>
                    <span class="bootcamp-label">nowość</span>
                </a>
            </li>
            </ul>
</li>

                        <li class="nav-item hidden-sm-down">
    <a id="pro-bootcamps-nav-link" class="dropdown-toggle nav-link" href="https://kodilla.com/pl/szkolenia-pro">
        Szkolenia Pro
    </a>
    <ul>
        <li><a href="https://kodilla.com/pl/szkolenia-pro/mikroserwisy" class="nav-link">Mikroserwisy w Javie</a></li>
        <li><a href="https://kodilla.com/pl/szkolenia-pro/spring-hibernate" class="nav-link">Spring i Hibernate</a></li>
        <li><a href="https://kodilla.com/pl/szkolenia-pro/wielowatkowosc" class="nav-link">Wielowątkowość w Javie</a></li>
        <li><a href="https://kodilla.com/pl/szkolenia-pro/django" class="nav-link">Aplikacje webowe z Django</a></li>
        <li><a href="https://kodilla.com/pl/szkolenia-pro/wizualizacja-danych" class="nav-link">Analiza danych w Pythonie</a></li>
        <li><a href="https://kodilla.com/pl/szkolenia-pro/machine-learning" class="nav-link">Podstawy Machine Learning</a></li>
        <li><a href="https://kodilla.com/pl/szkolenia-pro/automatyzacja-testow" class="nav-link">Automatyzacja testów</a></li>
        <li><a href="https://kodilla.com/pl/szkolenia-pro/vanilla-js" class="nav-link">Advanced Vanilla JS</a></li>
        <li><a href="https://kodilla.com/pl/szkolenia-pro/typescript" class="nav-link">TypeScript - kurs praktyczny</a></li>
        <li><a href="https://kodilla.com/pl/szkolenia-pro/vue3" class="nav-link">Vue3 - kompletny przewodnik</a></li>
        <li><a href="https://kodilla.com/pl/szkolenia-pro/zaawansowany-backend" class="nav-link">Backend zaawansowany</a></li>
    </ul>
</li>
            <li class="nav-item hidden-sm-down">
    <a class="dropdown-toggle nav-link">
        Strefa kursanta
    </a>
    <ul>
                    <li><a href="https://kodilla.com/pl/bootcamp-dashboard/704" class="nav-link">Bootcamp Analiza i wizualizacja danych z Pythonem</a></li>
                    <li><a class="nav-link" href="https://kodilla.com/pl/kursy">Samodzielne kursy</a></li>
                    <li><a class="nav-link" href="https://chat.kodilla.com/" target="_blank">Komunikator</a></li>
                    <li><a class="nav-link" href="https://kodilla.com/pl/projects">Moje projekty</a></li>
    </ul>
</li>
                            <li class="nav-item hidden-sm-down">
    <a class="dropdown-toggle nav-link">
        O nas
    </a>
    <ul class="about-us">
        <li><a href="https://kodilla.com/pl/mentorzy" class="nav-link">Mentorzy</a></li>
        <li><a href="https://kodilla.com/pl/zespol" class="nav-link">Zespół Kodilli</a></li>
        <li><a href="https://kodilla.com/pl/o-nas" class="nav-link">O firmie</a></li>
    </ul>
</li>
                                                                    <li class="nav-item hidden-md-up nav-group">
    <span class="mobile-menu-separator">Szkolenia Bootcamp</span>
    <ul>
                    <li class="nav-item list-sub-fe">
                <a class="nav-link nav-link-with-label" href="https://kodilla.com/pl/bootcamp/front-end">Bootcamp Front-end: React
                </a>
            </li>
                <li class="nav-item">
            <a class="nav-link" href="https://kodilla.com/pl/bootcamp/java">Bootcamp Java</a>
        </li>
        <li class="nav-item list-sub-fe">
            <a class="nav-link nav-link-with-label" href="https://kodilla.com/pl/bootcamp/full-stack">Full Stack Developer
                <span class="bootcamp-label">nowość</span>
            </a>
        </li>
        <li class="nav-item list-sub-fe">
            <a class="nav-link nav-link-with-label" href="https://kodilla.com/pl/bootcamp/tester-automatyzuj%C4%85cy">Bootcamp Tester Automatyzujący
            </a>
        </li>
        <li class="nav-item list-sub-fe">
            <a class="nav-link nav-link-with-label" href="https://kodilla.com/pl/bootcamp/python">Python Developer
            </a>
        </li>
        <li class="nav-item list-sub-fe">
            <a class="nav-link nav-link-with-label" href="https://kodilla.com/pl/bootcamp/game-dev">Unity Developer</a>
        </li>
        <li class="nav-item list-sub-fe">
            <a class="nav-link nav-link-with-label" href="https://kodilla.com/pl/bootcamp/data-science">Data Science
                <span class="bootcamp-label">nowość</span>
            </a>
        </li>
    </ul>
</li>
<li class="nav-item hidden-md-up nav-group">
    <a class="nav-link-bold" href="https://kodilla.com/pl/szkolenia-pro">Szkolenia Pro</a>
</li>
            <li class="nav-item hidden-md-up nav-group">
            <span class="mobile-menu-separator">Strefa kursanta</span>
            <ul>
                <li class="nav-item ">
                                            <a class="nav-link" href="https://kodilla.com/pl/bootcamp-dashboard/704">
                            Bootcamp   Analiza i wizualizacja danych z Pythonem
                        </a>
                                    </li>
                <li class="nav-item ">
                    <a class="nav-link" href="https://kodilla.com/pl/kursy">Samodzielne kursy</a>
                </li>
                                    <li class="nav-item ">
                        <a class="nav-link" href="https://chat.kodilla.com/" target="_blank">Komunikator</a>
                    </li>
                                <li class="nav-item">
                    <a class="nav-link" href="https://kodilla.com/pl/projects">Moje projekty</a>
                </li>
            </ul>
        </li>
    
        
            <li class="nav-item hidden-md-up nav-group">
            <span class="mobile-menu-separator">O nas</span>
            <ul>
                <li class="nav-item">
                    <a href="https://kodilla.com/pl/mentorzy" class="nav-link">Mentorzy</a>
                </li>
                <li class="nav-item">
                    <a href="https://kodilla.com/pl/zespol" class="nav-link">Zespół Kodilli</a>
                </li>
                <li class="nav-item">
                    <a href="https://kodilla.com/pl/o-nas" class="nav-link">O firmie</a>
                </li>
            </ul>
        </li>
    
<li class="nav-item hidden-md-up nav-group">
    <span class="mobile-menu-separator">Pozostałe</span>
    <ul>
                                        
        <li class="nav-item">
            <a href="https://kodilla.com/pl/informator" class="nav-link" target="_blank">
        Informator
    </a>
        </li>
    </ul>

</li>

    <li class="nav-item hidden-md-up">
        <a class="nav-link" href="https://kodilla.com/pl/account">Konto</a>
    </li>
    <li class="nav-item hidden-md-up">
        <a class="nav-link analytics-track" data-event="account_logout" href="https://kodilla.com/pl/sign-out">Wyloguj</a>
    </li>

        
    <li class="nav-item hidden-md-up nav-group">
        <span class="mobile-menu-separator">Skontaktuj się z nami</span>
        <ul>
            <li class="nav-item">
                <a href="mailto:support@kodilla.com" class="nav-link">
                    <i class="fa fa-envelope-o"></i>
                    support@kodilla.com
                </a>
            </li>
            <li class="nav-item">
                <a href="javascript:openChat();" class="nav-link">
                    <i class="fa fa-comments"></i>
                    <span>Porozmawiaj na czacie</span>
                </a>
            </li>
        </ul>
    </li>
        </ul>
    </div>
</nav>
<main class="bootcamp module page-height-fix" id="bootcamp-module">
    <div class="aside-toggle hidden-md-up">
        <button class="navbar-toggler pull-left collapsed" type="button" data-toggle="collapse" data-target="#aside-sticky" aria-expanded="false">
            <i class="fa fa-bars navbar-ico-open"></i>
            <i class="fa fa-times navbar-ico-close"></i>
        </button>
    </div>
    <div class="table-of-contents aside-sticky collapsed collapse fixed" id="aside-sticky" style="transform: translateY(0px);">
        <section class="container">
            <div class="row">
                <aside class="module-nav col-md-4 col-md-offset-8">
                    <section class="card">
                        <div class="card-header">
                            <h4 class="card-title">Spis treści modułu</h4>
                        </div>
                        <ul class="list-group list-group-flush ps-container ps-theme-default ps-active-y" data-ps-id="65be7434-5dfe-c232-1f64-1cb0613c5040">
                                                        <li class="list-group-item current">
                                <a href="https://kodilla.com/pl/bootcamp-module/704/484/6865#submodule-1786" class="clearfix">
                                    <p>2.1. Wprowadzenie do Pandas</p>
                                    <i class="fa fa-check-circle-o"></i>
                                    <i class="fa fa-play-circle-o"></i>
                                    <i class="fa fa-send-o"></i>
                                    <i class="fa fa-exclamation-circle"></i>
                                </a>
                            </li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/704/484/6865#21-wprowadzenie-do-pandas-series" class="clearfix">Series</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/704/484/6865#21-wprowadzenie-do-pandas-dataframe" class="clearfix">DataFrame</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/704/484/6865#21-wprowadzenie-do-pandas-masking-na-podstawie-wyrazen-logicznych" class="clearfix">Masking na podstawie wyrażeń logicznych</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/704/484/6865#21-wprowadzenie-do-pandas-podstawowe-operacje" class="clearfix">Podstawowe operacje</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/704/484/6865#21-wprowadzenie-do-pandas-funkcja-rename-zmiana-etykiet-kolumn-i-wierszy" class="clearfix">Funkcja rename – zmiana etykiet kolumn i wierszy</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/704/484/6865#21-wprowadzenie-do-pandas-unique-value-counts-sort-values-drop-duplicates" class="clearfix">Unique, value_counts, sort_values, drop_duplicates</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/704/484/6865#21-wprowadzenie-do-pandas-multiindex" class="clearfix">MultiIndex</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/704/484/6865#21-wprowadzenie-do-pandas-groupby" class="clearfix">Groupby</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/704/484/6865#21-wprowadzenie-do-pandas-brakujace-dane" class="clearfix">Brakujące dane</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/704/484/6865#21-wprowadzenie-do-pandas-merge-join-concatenate" class="clearfix">Merge, Join, Concatenate</a></li>
                                                        <li class="list-group-item ">
                                <a href="https://kodilla.com/pl/bootcamp-module/704/484/6865#submodule-1787" class="clearfix">
                                    <p>2.2. Praca z arkuszami Microsoft Excel</p>
                                    <i class="fa fa-check-circle-o"></i>
                                    <i class="fa fa-play-circle-o"></i>
                                    <i class="fa fa-send-o"></i>
                                    <i class="fa fa-exclamation-circle"></i>
                                </a>
                            </li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/704/484/6865#22-praca-z-arkuszami-microsoft-excel-pliki-csv" class="clearfix">Pliki csv</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/704/484/6865#22-praca-z-arkuszami-microsoft-excel-praca-z-plikami-excel" class="clearfix">Praca z plikami Excel</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/704/484/6865#22-praca-z-arkuszami-microsoft-excel-tabele-html" class="clearfix">Tabele HTML</a></li><li class="list-group-item list-group-flush sub task"><a href="https://kodilla.com/pl/bootcamp-module/704/484/6865#22-praca-z-arkuszami-microsoft-excel-zadanie-albumy-wszechczasow" class="clearfix">Zadanie: albumy wszechczasów</a></li>
                                                        <li class="list-group-item ">
                                <a href="https://kodilla.com/pl/bootcamp-module/704/484/6865#submodule-1788" class="clearfix">
                                    <p>2.3. Wizualizacja danych z Matplotlib</p>
                                    <i class="fa fa-check-circle-o"></i>
                                    <i class="fa fa-play-circle-o"></i>
                                    <i class="fa fa-send-o"></i>
                                    <i class="fa fa-exclamation-circle"></i>
                                </a>
                            </li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/704/484/6865#23-wizualizacja-danych-z-matplotlib-podejscie-funkcyjne" class="clearfix">Podejście funkcyjne</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/704/484/6865#23-wizualizacja-danych-z-matplotlib-podejscie-obiektowe" class="clearfix">Podejście obiektowe</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/704/484/6865#23-wizualizacja-danych-z-matplotlib-formatowanie-wygladu-wykresow" class="clearfix">Formatowanie wyglądu wykresów</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/704/484/6865#23-wizualizacja-danych-z-matplotlib-wbudowana-wizualizacja-danych-w-pandas" class="clearfix">Wbudowana wizualizacja danych w Pandas</a></li><li class="list-group-item list-group-flush sub task"><a href="https://kodilla.com/pl/bootcamp-module/704/484/6865#23-wizualizacja-danych-z-matplotlib-zadanie-baza-filmow" class="clearfix">Zadanie: baza filmów</a></li>
                                                    <div class="ps-scrollbar-x-rail" style="left: 0px; bottom: 3px;"><div class="ps-scrollbar-x" tabindex="0" style="left: 0px; width: 0px;"></div></div><div class="ps-scrollbar-y-rail" style="top: 0px; height: 666px; right: 3px;"><div class="ps-scrollbar-y" tabindex="0" style="top: 0px; height: 377px;"></div></div></ul>
                        <div class="card-block text-center">
                                                                                                <a href="https://kodilla.com/pl/bootcamp-dashboard/704">Powrót do dashboardu</a>
                                                                                    </div>
                    </section>
                </aside>
            </div>
        </section>
    </div>
    <section class="container module-content">
        <div class="row">
            <main class="col-md-8">
                <section class="card">
                    <div class="card-block module-header clearfix ">
                        <h1 class="card-title">2. Pandas i Matplotlib</h1>
                                                <i class="fa fa-bookmark fa-3x" aria-hidden="true"></i>
                    </div>
                                        <div class="card-block challenge">
                        <h3>Wyzwania:</h3>
                        <ul>
<li>poznasz podstawowe operacje związane z analizą danych w Pandas,</li>
<li>nauczysz się pracy z plikami <code>.csv</code> i <code>.xlsx</code>,</li>
<li>odkryjesz bibliotekę Matplotlib i stworzysz wizualizacje danych.</li>
</ul>
<h3>Zaczynamy</h3>
<p>Wspominaliśmy, że większość czasu na tym szkoleniu spędzimy z biblioteką Pandas. Nadszedł zatem ten czas, by dowiedzieć się o niej nieco więcej.</p>
<p>Pandas to biblioteka ułatwiająca szybką analizę i obróbkę danych prezentując je w formie tabelarycznej, znanej wszystkim z oprogramowania Microsoft Excel lub z bazodanowego języka SQL.</p>
<p>Pandas jest zbudowana na bazie NumPy – z tego też powodu położyliśmy wcześniej duży nacisk, aby dobrze zapoznać się z zasadami jej funkcjonowania. Dzięki temu sporo rzeczy, które będziemy robić w Pandas, nabierze od razu większego sensu.</p>
<p>W tym module na początku poznamy podstawowe operacje wykonywane podczas analizy danych w Pandas, pokażemy jak pracować z plikami <code>*.csv</code> lub <code>*.xlsx</code> za pomocą Pythona, a w drugiej części skupimy się na możliwościach związanych z wizualizacją danych. Przerobimy zagadnienia związane z zaprezentowaną wcześniej biblioteką Matplotlib, zastosujemy również "nakładkę" na nią – tj. Seaborn, a na końcu pokażemy jak tworzyć wizualizacje "na szybko" bezpośrednio z poziomu Pandas.</p>

                    </div>
                                    </section>
                                    
                <section id="submodule-1786" class="card submodule current" data-bootcamp-user-submodule-id="728517">
                <!-- klasy dla section: completed current comments -->
                    <div class="card-block submodule-header clearfix">
                        <i class="fa fa-check-circle-o fa-2x"></i>
                        <i class="fa fa-play-circle-o fa-2x"></i>
                        <i class="fa fa-exclamation-circle fa-2x"></i>
                        <i class="fa fa-send-o fa-2x"></i>
                        <h2 class="bootcamp-submodule-name">2.1. <span>Wprowadzenie do Pandas</span></h2>
                                            </div>
                    <div class="card-block">
                        <div class="submodule-content">
                            <p>Na wstępie, aby zainstalować bibliotekę Pandas, tradycyjnie możemy skorzystać z <code>conda</code> lub <code>pip</code>.</p>
<h5>conda</h5>
<p>Jeśli korzystasz z <code>conda</code>, użyj komendy:</p>
<pre class=" language-py"><code class=" language-py">conda install pandas</code></pre>
<h5>pip</h5>
<p>Jeśli korzystasz z <code>pip</code>, użyj komendy:</p>
<pre class=" language-py"><code class=" language-py">pip install pandas</code></pre>
<h3 id="21-wprowadzenie-do-pandas-series">Series</h3>
<p>Series to podstawowy rodzaj obiektu, na jakim będziemy pracować w Pandas. Można powiedzieć, że Series jest odpowiednikiem ndarray — w rzeczywistości jest stworzona na jej bazie. Podstawową różnicą między nimi jest możliwość indeksowania danych na podstawie własnych etykiet.</p>
<pre class=" language-py"><code class=" language-py"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
exam1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">89</span><span class="token punctuation">,</span><span class="token number">85</span><span class="token punctuation">,</span><span class="token number">93</span><span class="token punctuation">,</span><span class="token number">83</span><span class="token punctuation">]</span>
labels  <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Student A'</span><span class="token punctuation">,</span> <span class="token string">'Student B'</span><span class="token punctuation">,</span> <span class="token string">'Student C'</span><span class="token punctuation">,</span> <span class="token string">'Student D'</span><span class="token punctuation">]</span>

pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>exam1<span class="token punctuation">,</span>labels<span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-01.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-01.png" alt="image" style="width: auto;"></a>
<p>Na początek importujemy do projektu bibliotekę Pandas. Konwencjonalnie przyjęło się, że odwołujemy się do jej obiektów poprzez skrót <code>pd</code>. Takie rozwiązanie znajdziemy w większości innych opracowań.</p>
<p>Aby zademonstrować możliwość przypisywania własnych etykiet jako indeks, wracamy do przykładu przewijającego się w pierwszym module, który dotyczył punktów uzyskanych na egzaminie przez kolejnych uczniów. Zdefiniowaliśmy dwie listy: <code>exam1</code> z punktami zdobytymi przez kolejnych uczniów oraz <code>labels</code>, która zawiera w sobie etykiety dla uczniów w kolejności odpowiadającej zdobytym punktom z egzaminu.</p>
<p>Umieszczając obie listy w <code>pd.Series</code>, tworzy się obiekt łudząco przypominający ndarray, z tą różnicą, że kolumna widoczna po lewej stronie jest indeksem dla wprowadzonych danych liczbowych. Konsekwencją tego jest fakt, że do poszczególnych pozycji możemy docierać w następujący sposób:</p>
<pre class=" language-py"><code class=" language-py">pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>exam1<span class="token punctuation">,</span>labels<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'Student D'</span><span class="token punctuation">]</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-02.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-02.png" alt="image" style="width: auto;"></a>
<p>Alternatywnie Series możemy stworzyć, podając wyłącznie jeden argument, będący słownikiem, którego klucze zawierają etykiety indeksów, a wartości stanowią odpowiadające im dane.</p>
<pre class=" language-py"><code class=" language-py">d <span class="token operator">=</span> <span class="token punctuation">{</span>s<span class="token punctuation">:</span>p <span class="token keyword">for</span> s<span class="token punctuation">,</span>p <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>labels<span class="token punctuation">,</span>exam1<span class="token punctuation">)</span><span class="token punctuation">}</span>
d</code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-03.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-03.png" alt="image" style="width: auto;"></a>
<pre class=" language-py"><code class=" language-py">pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>d<span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-04.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-04.png" alt="image" style="width: auto;"></a>
<p>Tak jak wspominaliśmy wcześniej, Series zbudowane są bezpośrednio na bazie ndarray. Umożliwia to wykonywanie na nich operacji matematycznych w znany nam z modułu pierwszego sposób.</p>
<p>Wprowadźmy nową zmienną, która będzie reprezentowała wyniki uczniów z drugiego egzaminu i na jej podstawie stwórzmy drugą Series.</p>
<pre class=" language-py"><code class=" language-py">exam2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">74</span><span class="token punctuation">,</span><span class="token number">56</span><span class="token punctuation">,</span><span class="token number">44</span><span class="token punctuation">,</span><span class="token number">92</span><span class="token punctuation">]</span>

e1 <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>exam1<span class="token punctuation">,</span>labels<span class="token punctuation">)</span>
e2 <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>exam2<span class="token punctuation">,</span>labels<span class="token punctuation">)</span></code></pre>
<p>Teraz bez problemu możemy zsumować wyniki uczniów z obu egzaminów. Tak samo, jak robiliśmy to w NumPy, możemy również mnożyć dwie Series ze sobą lub wykorzystać broadcasting, aby wykonać operację, wykorzystując jedynie skalar.</p>
<pre class=" language-py"><code class=" language-py">e1 <span class="token operator">+</span> e2</code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-05.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-05.png" alt="image" style="width: auto;"></a>
<pre class=" language-py"><code class=" language-py">e1 <span class="token operator">*</span> e2</code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-06.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-06.png" alt="image" style="width: auto;"></a>
<pre class=" language-py"><code class=" language-py">e1 <span class="token operator">/</span> <span class="token number">5</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-07.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-07.png" alt="image" style="width: auto;"></a>
<p>Zwróćmy też uwagę, że każda Series ma określony typ danych. Ponieważ wartości, które do niej wprowadziliśmy, są liczbami całkowitymi, Pandas dobiera odpowiedni rodzaj za nas. W momencie, kiedy wykonujemy operację dzielenia, zmiana rodzaju danych z int64 na float64 dokonuje się samoczynnie, aby mieć pewność, że nie stracimy po drodze żadnych informacji.</p>
<h3 id="21-wprowadzenie-do-pandas-dataframe">DataFrame</h3>
<p>Kolejnym obiektem, któremu poświęcimy wiele uwagi, jest DataFrame. Wprowadzimy go, przechodząc od razu do przykładu. Wcześniej stworzyliśmy dwa osobne obiekty typu Series, w których przechowywaliśmy informacje o punktach zdobytych w poszczególnych egzaminach. Ponieważ dane te łączy fakt, że można je przypisać do tych samych uczniów, jesteśmy przyzwyczajeni, aby przedstawiać je w postaci tabelarycznej, w której wyniki z poszczególnych egzaminów zapisujemy w kolumnach obok siebie – tak jak w Microsoft Excel.</p>
<p>To samo możemy zrobić dzięki obiektowi DataFrame w Pandas.</p>
<pre class=" language-py"><code class=" language-py">df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'e1'</span><span class="token punctuation">:</span>exam1<span class="token punctuation">,</span> <span class="token string">'e2'</span><span class="token punctuation">:</span>exam2<span class="token punctuation">}</span><span class="token punctuation">,</span>index<span class="token operator">=</span>labels<span class="token punctuation">)</span>
df</code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-08.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-08.png" alt="image" style="width: auto;"></a>
<p>Pierwszym argumentem DataFrame jest tablica danych, które chcemy wprowadzić do tabeli. Przypominamy, że <code>exam1</code> oraz <code>exam2</code> to lista zawierająca punkty kolejnych uczniów z poszczególnych egzaminów. Najczęściej dane do DataFrame będziemy wprowadzać w postaci słownika, w którym klucze są etykietami kolumn, a wartości wektorami danych.</p>
<p>Jak widzimy, zmienna <code>df</code> przechowuje teraz dane w postaci tabeli. Tak naprawdę, DataFrame składa się po prostu z kolejnych obiektów typu Series, które łączy wspólny indeks. Jeśli na obiekcie DataFrame wywołamy jedną z kolumn – otrzymamy z powrotem właśnie obiekt typu Series.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">[</span><span class="token string">'e1'</span><span class="token punctuation">]</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-09.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-09.png" alt="image" style="width: auto;"></a>
<pre class=" language-py"><code class=" language-py"><span class="token builtin">type</span><span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'e1'</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-09b.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-09b.png" alt="image" style="width: auto;"></a>
<p>Dane do DataFrame możemy wprowadzać na więcej sposobów. Pokażemy jeszcze, jak w tym celu możemy wykorzystać ndarray.</p>
<p>Pamiętaj o <code>import numpy as np</code> na początku.</p>
<pre class=" language-py"><code class=" language-py">data <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span>exam1<span class="token punctuation">,</span>exam2<span class="token punctuation">]</span><span class="token punctuation">)</span>
data<span class="token punctuation">.</span>transpose<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-10.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-10.png" alt="image" style="width: auto;"></a>
<pre class=" language-py"><code class=" language-py">df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>data<span class="token punctuation">.</span>transpose<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>index<span class="token operator">=</span>labels<span class="token punctuation">,</span>columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'e1'</span><span class="token punctuation">,</span><span class="token string">'e2'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
df</code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-10b.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-10b.png" alt="image" style="width: auto;"></a>
<p>W tym wariancie, jako źródło danych wprowadzamy wyłącznie ndarray, a etykiety kolumn precyzujemy osobno, umieszczając je w liście.</p>
<p>Aby uwypuklić zależności między Pandas a NumPy, wywołajmy na zmiennej <code>df</code> atrybut <code>shape</code>, tak jak robiliśmy to na obiekcie ndarray.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>shape</code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-11.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-11.png" alt="image" style="width: auto;"></a>
<p>Otrzymamy wtedy krotkę z informacjami o kształcie i wymiarach tabeli.</p>
<p>Zwróć uwagę, że formatowanie DataFrame, jakie widzimy na obrazkach, jest specyficzne dla Jupyter Notebook. Jeśli korzystasz z innego IDE, tabele mogą być sformatowane w inny sposób, jednakże wszystkie operacje możemy wykonywać w każdym przypadku tak samo.</p>
<p>Wcześniej, aby wywołać kolumnę z obiektu DataFrame, korzystaliśmy z zapisu:</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">[</span><span class="token string">'e1'</span><span class="token punctuation">]</span></code></pre>
<p>Nazwę kolumny wprowadzaliśmy jako string w nawiasie kwadratowym. Gdzieniegdzie możemy spotkać się również z zapisem:</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>e1</code></pre>
<p>Jest on równoznaczny z tym, który stosowaliśmy wcześniej. Jeśli znasz język SQL, taki sposób wywoływania danych może być Ci znajomy. Nie rekomendujemy jednak korzystania z tego ostatniego sposobu zapisu, ponieważ będzie on generował problemy w sytuacji, w której na przykład nazwa kolumny będzie zawierała polskie znaki lub będzie składała się z więcej niż jednego słowa. Ponadto można sobie wyobrazić sytuację, w której jedna z nazw kolumn jest tożsama z którąś z metod, które możemy stosować na obiekcie DataFrame. To samo w sobie może spowodować problemy w interpretacji Twojego kodu.</p>
<p>Załóżmy, że uzyskaliśmy wyniki uczniów z ostatniego egzaminu. Możemy je dołączyć do utworzonego już DataFrame, wprowadzając nową kolumnę, w taki sposób, w jaki chcielibyśmy ją wywołać, gdyby już istniała. Następnie do wywołanej w ten sposób kolumny przypisujemy wektor wartości. Należy pamiętać, że nowy wektor powinien mieć tyle samo elementów co pozostałe.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">[</span><span class="token string">'e3'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">67</span><span class="token punctuation">,</span><span class="token number">59</span><span class="token punctuation">,</span><span class="token number">79</span><span class="token punctuation">,</span><span class="token number">84</span><span class="token punctuation">]</span>
df</code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-12.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-12.png" alt="image" style="width: auto;"></a>
<p>Jeśli chcieliby dodać podsumowanie semestru składającego się z trzech egzaminów, nową kolumnę możemy również wprowadzić, korzystając z istniejących już kolumn. Pamiętajmy, że są one niczym innym, jak tylko obiektem typu Series.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">[</span><span class="token string">'semester1'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'e1'</span><span class="token punctuation">]</span> <span class="token operator">+</span> df<span class="token punctuation">[</span><span class="token string">'e2'</span><span class="token punctuation">]</span> <span class="token operator">+</span> df<span class="token punctuation">[</span><span class="token string">'e3'</span><span class="token punctuation">]</span>
df</code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-13.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-13.png" alt="image" style="width: auto;"></a>
<p>Wcześniej w celu wybrania jednej kolumny z DataFrame wprowadzaliśmy jej nazwę w nawias kwadratowy, a Pandas zwracał nam obiekt typu Series.</p>
<p>Jeśli chcemy wybrać więcej niż jedną kolumnę – wystarczy, że w nawiasie kwadratowym podamy listę interesujących nas kolumn.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'e1'</span><span class="token punctuation">,</span><span class="token string">'e2'</span><span class="token punctuation">]</span><span class="token punctuation">]</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-14.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-14.png" alt="image" style="width: auto;"></a>
<p>Zwróćmy uwagę, że w tym przypadku wynikiem operacji jest obiekt DataFrame zamiast Series.</p>
<p>Zanim przejdziemy do modyfikowania DataFrame, musimy jeszcze nauczyć się jak uzyskać dostęp do poszczególnych wierszy w tabeli. Pamiętając, że gdzieś pod spodem mamy tutaj do czynienia z ndarray, możemy się spodziewać, że działa to na takiej samej zasadzie, jak znane nam już strategie związane z indexingiem w NumPy.</p>
<p>Spróbujmy wyciągnąć wyłącznie informacje dotyczące Studenta C. W tym celu wykorzystamy metodę <code>loc</code>.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token string">'Student C'</span><span class="token punctuation">]</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-15.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-15.png" alt="image" style="width: auto;"></a>
<p>Wynikiem tego polecenia, jak możemy zauważyć, jest obiekt typu Series. Jeśli chcemy dostać się wyłącznie do informacji dotyczącej wyniku Studenta C z egzaminu nr 2 moglibyśmy w tym momencie zastosować znane nam z NumPy chain indexing i wprowadzić w nawiasie kwadratowym nazwę kolumny, którą chcemy wyciągnąć.</p>
<p>Możemy również, tak samo, jak w NumPy, wprowadzić interesującą nas kolumnę zaraz po przecinku.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token string">'Student C'</span><span class="token punctuation">,</span><span class="token string">'e2'</span><span class="token punctuation">]</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-16.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-16.png" alt="image" style="width: auto;"></a>
<p>Jak się pewnie domyślasz, analogii do NumPy jest jeszcze więcej i uprzedzając Twoje pytanie – tak, możemy również korzystać ze strategii znanej nam jako fancy indexing.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'Student C'</span><span class="token punctuation">,</span><span class="token string">'Student D'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'e2'</span><span class="token punctuation">]</span><span class="token punctuation">]</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-17.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-17.png" alt="image" style="width: auto;"></a>
<p>Czasem jednak praktyczniejszym sposobem na wyławianie konkretnych wierszy z tabeli jest odniesienie się do ich pozycji zamiast etykiety indeksu. W Pandas nie musimy iść na kompromisy i dzięki metodzie <code>iloc</code> wywoływać wiersze według ich pozycji w postaci numerycznej.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-18.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-18.png" alt="image" style="width: auto;"></a>
<p>Ponieważ Student C znajduje się w drugim wierszu DataFrame, polecenie wykonane w przykładzie powyżej jest równoznaczne z <code>df.loc['Student C']</code>.</p>
<p>Poprzez funkcję <code>iloc</code> możemy również z powodzeniem stosować strategię znaną nam jako slicing.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-19.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-19.png" alt="image" style="width: auto;"></a>
<h3 id="21-wprowadzenie-do-pandas-masking-na-podstawie-wyrazen-logicznych">Masking na podstawie wyrażeń logicznych</h3>
<p>Podobnie jak w NumPy, możemy filtrować pozycje w tabeli na podstawie wyrażeń logicznych. Załóżmy, że chcemy wybrać wyłącznie uczniów, którzy uzyskali więcej niż 70 punktów z drugiego egzaminu.</p>
<p>Jeśli wprowadzimy polecenie <code>df[‘e2’]&gt;70</code> otrzymamy obiekt typu Series, który zawierał będzie wartości <code>True</code> lub <code>False</code> w zależności od tego, czy dany element spełnia warunek logiczny.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">[</span><span class="token string">'e2'</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">70</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-20.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-20.png" alt="image" style="width: auto;"></a>
<p>Jak możemy się na tym etapie domyślić, wprowadzenie serii wartości <code>True</code> i <code>False</code> pozwoli nam filtrować wyłącznie indeksy, które mają wartość <code>True</code>.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">[</span>df<span class="token punctuation">[</span><span class="token string">'e2'</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">70</span><span class="token punctuation">]</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-21.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-21.png" alt="image" style="width: auto;"></a>
<p>W ramach powtórki spróbujmy jeszcze znaleźć uczniów, którzy uzyskali mniej niż 50 lub więcej niż 90 punktów z egzaminu nr 2.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">[</span><span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'e2'</span><span class="token punctuation">]</span><span class="token operator">&lt;</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token operator">|</span><span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'e2'</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">]</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-22.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-22.png" alt="image" style="width: auto;"></a>
<p>Oczywiście w jednym zapytaniu możemy stosować warunki logiczne dotyczące więcej niż jednej kolumny. Dla przykładu, z podobnym skutkiem moglibyśmy filtrować uczniów, którzy uzyskali mniej niż 50 punktów z egzaminu nr 2 i więcej niż 90 punktów z egzaminu nr 1.</p>
<h3 id="21-wprowadzenie-do-pandas-podstawowe-operacje">Podstawowe operacje</h3>
<p>Wiemy już, czym są i na jakiej zasadzie działają obiekty typu Series i DataFrame. W dalszej części modułu poznamy kolejne podstawowe operacje, jakie możemy na nich wykonywać.</p>
<h5>Usuwanie wierszy, parametr Inplace</h5>
<p>Wcześniej dodawaliśmy nowe kolumny do istniejącego DataFrame. Teraz pokażemy, jak możemy usuwać niepotrzebne informacje.</p>
<p>Z tabeli, w której przechowujemy punkty uzyskiwane przez uczniów z poszczególnych egzaminów, usuńmy kolumnę podsumowującą pierwszy semestr. W tym celu użyjemy funkcji <code>drop</code>.</p>
<p>W Notebooku wprowadzimy zatem polecenie:</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>drop<span class="token punctuation">(</span><span class="token string">'semester1'</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span></code></pre>
<p>Przy czym niezwykle istotnym jest, aby pamiętać o poprawnym uzupełnieniu parametru <code>axis</code>. Jeśli w tym przypadku tego nie zrobimy, otrzymamy następujący błąd:</p>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-23.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-23.png" alt="image" style="width: auto;"></a>
<p>Gdy spojrzymy do dokumentacji Pandas, zauważymy, że przy funkcji <code>drop</code> parametr <code>axis</code> ma domyślnie ustawioną wartość 0, tj. funkcja będzie szukać wyznaczonej do usunięcia etykiety indeksu, według kolejnych wierszy. Ponieważ szukając w wierszach nie znajdzie <code>semester1</code>, Python zwróci nam "KeyError".</p>
<p>Jeśli dobrze pamiętasz moduł poświęcony NumPy, taki rodzaj zapisu nie powinien Cię dziwić. Tak samo wykonywaliśmy tam bowiem operacje ze wskazaniem konkretnych osi, według których miały być one przeprowadzane.</p>
<p>Jeśli tym razem poprawnie sprecyzujemy oś, powinniśmy otrzymać DataFrame bez kolumny <code>semester1</code>.</p>
<p>Po wykonaniu tej operacji wywołajmy jeszcze raz zmienną <code>df</code> w komórce poniżej, a zauważmy, że kolumna w dalszym ciągu tam jest i ma się dobrze!</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>drop<span class="token punctuation">(</span><span class="token string">'semester1'</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-24.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-24.png" alt="image" style="width: auto;"></a>
<pre class=" language-py"><code class=" language-py">df</code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-24b.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-24b.png" alt="image" style="width: auto;"></a>
<p>Dzieje się tak, ponieważ wykonując funkcję <code>drop</code>, nie ustawiliśmy wartości <code>True</code> dla parametru <code>Inplace</code>. Parametr ten jest swego rodzaju zaworem bezpieczeństwa, który pozwala nam wykonać jakąś operację bez rzeczywistej ingerencji we wprowadzoną wcześniej tabelę. Musimy w tym miejscu powiedzieć, że wiele funkcji Pandas działa właśnie w ten sposób, a parametr <code>Inplace</code> będzie przewijał się w trakcie tego szkolenia również przy innych modyfikacjach DataFrame.</p>
<p>Usuńmy zatem kolumny z tabeli przypisanej do zmiennej <code>df</code> raz na zawsze. Jednak tym razem na potrzeby przykładu razem z kolumną <code>semester1</code> usuńmy kolumnę <code>e3</code>. W tym celu, jako pierwszy argument funkcji <code>drop</code> musimy wprowadzić listę kolumn do usunięcia.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>drop<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'e3'</span><span class="token punctuation">,</span><span class="token string">'semester1'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
df</code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-25.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-25.png" alt="image" style="width: auto;"></a>
<p>Pewnie na tym etapie domyślasz się już, jak w ten sam sposób możemy usunąć niepotrzebne wiersze. Z kronikarskiej powinności pokażemy zatem, jak możemy usunąć wyniki, które osiągnął Student B.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>drop<span class="token punctuation">(</span><span class="token string">'Student B'</span><span class="token punctuation">,</span>inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
df</code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-26.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-26.png" alt="image" style="width: auto;"></a>
<h5>Resetowanie i ustawianie indeksu</h5>
<p>Niekiedy możemy spotkać się z potrzebą zmiany lub pozbycia się dotychczasowego indeksu. Możemy zrobić to za pomocą funkcji <code>reset_index</code>. Zaprezentujmy jej działanie na tabeli z wynikami egzaminów.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>reset_index<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># jeśli chcemy zachować zmiany, musimy użyć parametru inplace</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-27.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-27.png" alt="image" style="width: auto;"></a>
<p>Widzimy, że kolumna z identyfikatorem ucznia, będąca do tej pory indeksem DataFrame została "wyciągnięta" do pozostałych kolumn i oznaczona nazwą <code>index</code>. W tym momencie indeksem tabeli jest <code>[0,1,2,3]</code>. Możemy to sprawdzić, przeszukując ją za pomocą funkcji <code>loc</code>. Zwróćmy uwagę, że podobnie jak w przypadku funkcji <code>drop</code>, tak tutaj, aby operacja doszła do skutku na oryginalnej tabeli, musimy ustawić parametr <code>Inplace</code> na wartość <code>True</code>.</p>
<p>Kontynuując ten przykład, spróbujmy ustalić nowy indeks, który będzie zawierał prawdziwe imiona uczniów. Możemy to zrobić na kilka sposobów; my pokażemy dwa różne podejścia do tego samego problemu.</p>
<h5>Sposób 1 – funkcja <code>set_index</code></h5>
<p>Funkcja <code>set_index</code> działa w podobny sposób jak <code>reset_index</code>. Aby to pokazać, przypiszmy tabelę ze zresetowanym indeksem do zmiennej <code>df_new_index</code>, a następnie dodajmy do niej kolumnę z imionami kolejnych uczniów.</p>
<pre class=" language-py"><code class=" language-py">df_new_index <span class="token operator">=</span> df<span class="token punctuation">.</span>reset_index<span class="token punctuation">(</span><span class="token punctuation">)</span>
df_new_index</code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-28.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-28.png" alt="image" style="width: auto;"></a>
<pre class=" language-py"><code class=" language-py">df_new_index<span class="token punctuation">[</span><span class="token string">'student_name'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Adrian'</span><span class="token punctuation">,</span><span class="token string">'Bartłomiej'</span><span class="token punctuation">,</span><span class="token string">'Celina'</span><span class="token punctuation">,</span><span class="token string">'Dagmara'</span><span class="token punctuation">]</span>
df_new_index</code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-28b.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-28b.png" alt="image" style="width: auto;"></a>
<p>Teraz wystarczy już użyć funkcji <code>set_index</code>.</p>
<pre class=" language-py"><code class=" language-py">df_new_index<span class="token punctuation">.</span>set_index<span class="token punctuation">(</span><span class="token string">'student_name'</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-29.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-29.png" alt="image" style="width: auto;"></a>
<h5>Sposób 2 - zmiany bezpośrednio na atrybucie <code>index</code></h5>
<p>Zmiany indeksu możemy dokonać również przypisując atrybutowi <code>index</code> konkretną listę wartości, która ma być nowym indeksem.</p>
<pre class=" language-py"><code class=" language-py">df_new_index2 <span class="token operator">=</span> df<span class="token punctuation">.</span>reset_index<span class="token punctuation">(</span><span class="token punctuation">)</span>
df_new_index2</code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-30.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-30.png" alt="image" style="width: auto;"></a>
<pre class=" language-py"><code class=" language-py">df_new_index2<span class="token punctuation">.</span>index <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Adrian'</span><span class="token punctuation">,</span><span class="token string">'Bartłomiej'</span><span class="token punctuation">,</span><span class="token string">'Celina'</span><span class="token punctuation">,</span><span class="token string">'Dagmara'</span><span class="token punctuation">]</span>
df_new_index2</code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-30b.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-30b.png" alt="image" style="width: auto;"></a>
<h3 id="21-wprowadzenie-do-pandas-funkcja-rename-zmiana-etykiet-kolumn-i-wierszy">Funkcja <code>rename</code> – zmiana etykiet kolumn i wierszy</h3>
<p>Istnieje więcej sposobów edycji etykiet kolumn i wierszy, niż te, które poznaliśmy do tej pory. W tej sekcji powiemy o funkcji <code>rename</code>.</p>
<p>Przypomnijmy naszą oryginalną tabelę:</p>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-31.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-31.png" alt="image" style="width: auto;"></a>
<p>Załóżmy, że chcemy zmienić nazwy kolumn: <code>e1</code>, <code>e2</code> oraz <code>e3</code>, tak aby były bardziej intuicyjne. Zamienimy enigmatyczne skróty na ich rozwinięcia, tj. <code>exam1</code>, <code>exam2</code>, <code>exam3</code> i wykorzystamy do tego funkcję <code>rename</code>.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>rename<span class="token punctuation">(</span>columns<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'e1'</span><span class="token punctuation">:</span><span class="token string">'exam1'</span><span class="token punctuation">,</span><span class="token string">'e2'</span><span class="token punctuation">:</span><span class="token string">'exam2'</span><span class="token punctuation">,</span><span class="token string">'e3'</span><span class="token punctuation">:</span><span class="token string">'exam3'</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-32.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-32.png" alt="image" style="width: auto;"></a>
<p>Dzięki funkcji <code>rename</code> możemy edytować etykiety zarówno nazw kolumn, jak i indeksu, ZATEM musieliśmy sprecyzować, że chodzi nam o zmiany nazw kolumn. Do parametru <code>columns</code> wprowadziliśmy słownik, którego kluczami są aktualne nazwy kolumn, a wartościami ich nowe odpowiedniki. Dzięki temu nie jesteśmy zobligowani do wprowadzania nazw tych kolumn, których nie chcemy zmieniać.</p>
<p>Czasem zdarzy nam się zauważyć literówkę w indeksie DataFrame. Jak wspomnieliśmy wcześniej, funkcja <code>rename</code> ma możliwość zmiany etykiety indeksów, wystarczy, że zamiast parametru <code>columns</code> użyjemy parametru <code>index</code>.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>rename<span class="token punctuation">(</span>index<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'Studnet C'</span><span class="token punctuation">:</span><span class="token string">'Student C'</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-33.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-33.png" alt="image" style="width: auto;"></a>
<p>To jednak nie wszystkie możliwości zastosowania funkcji <code>rename</code>. Bardziej zaawansowanym sposobem zmiany etykiet jest zrobienie tego poprzez użycie funkcji.</p>
<p>Załóżmy, że chcemy zmienić etykiety kolumn, tak aby wszystkie były pisane kapitalikami. Zamiast mapować każdą kolumnę za pomocą słownika, tak jak robiliśmy to w pierwszym przykładzie, możemy wykorzystać funkcję obiektu <code>str</code>, która konwertuje wszystkie litery na wielkie. Mówimy tutaj o funkcji <code>str.upper</code>.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>rename<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>upper<span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token string">'columns'</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-34.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-34.png" alt="image" style="width: auto;"></a>
<p>Zamiast ręcznego mapowania wartości, użyliśmy funkcji <code>upper</code>, aby wszystkie etykiety kolumn pisane były wielkimi literami. Jedyne co musieliśmy zrobić dodatkowo to sprecyzowanie, według której osi chcemy dokonać zmiany. Tym razem parametrowi <code>axis</code> przypisaliśmy wartość <code>columns</code>, ale Pandas akceptuje tutaj również wartości 0 oraz 1 - tak jak robiliśmy to do tej pory.</p>
<h3 id="21-wprowadzenie-do-pandas-unique-value-counts-sort-values-drop-duplicates">Unique, value_counts, sort_values, drop_duplicates</h3>
<p>W tej części zaprezentujemy kilka innych podstawowych operacji, które będą się nam przydawać bardzo często w trakcie trwania szkolenia. Weźmy DataFrame <code>df</code>.</p>
<pre class=" language-py"><code class=" language-py">df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'A'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">44</span><span class="token punctuation">,</span><span class="token number">56</span><span class="token punctuation">,</span><span class="token number">99</span><span class="token punctuation">,</span><span class="token number">85</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                  <span class="token string">'B'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'Panda'</span><span class="token punctuation">,</span><span class="token string">'Snake'</span><span class="token punctuation">,</span><span class="token string">'Snake'</span><span class="token punctuation">,</span><span class="token string">'Rat'</span><span class="token punctuation">,</span><span class="token string">'Dog'</span><span class="token punctuation">,</span><span class="token string">'Panda'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-35.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-35.png" alt="image" style="width: auto;"></a>
<h5>Unique, nunique</h5>
<p>Pandas posiada wbudowaną funkcję, która pozwala nam wyciągać wyłącznie unikalne wartości z danej tabeli.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">[</span><span class="token string">'B'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>unique<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-36.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-36.png" alt="image" style="width: auto;"></a>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">[</span><span class="token string">'B'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>nunique<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-36b.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-36b.png" alt="image" style="width: auto;"></a>
<p>Wywołując funkcję <code>unique</code> na kolumnie, dostajemy w rezultacie ndarray zawierającą unikalne wartości z tej kolumny. Jeśli interesuje nas wyłącznie liczba unikalnych wartości, możemy nałożyć na to wyrażenie funkcję <code>len</code> lub wywołać bezpośrednio na kolumnie funkcję <code>nunique</code>. Efekt obu operacji będzie ten sam.</p>
<h5>Value_counts</h5>
<p>Jeśli chcemy sprawdzić, ile razy poszczególna wartość występuje w kolumnie, możemy wykorzystać funkcję <code>value_counts</code>.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">[</span><span class="token string">'B'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-37.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-37.png" alt="image" style="width: auto;"></a>
<p>W efekcie otrzymamy obiekt typu Series.</p>
<h5>Sort_values</h5>
<p>W celu posortowania DataFrame możemy użyć funkcji <code>sort_values</code>. Warunkiem jest wskazanie argumentu <code>by</code>, który oznacza nazwę kolumny, według której chcemy posortować wartości.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span>by<span class="token operator">=</span><span class="token string">'A'</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-38.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-38.png" alt="image" style="width: auto;"></a>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span>by<span class="token operator">=</span><span class="token string">'A'</span><span class="token punctuation">,</span>ascending<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-38b.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-38b.png" alt="image" style="width: auto;"></a>
<p>Jeśli chcemy sortować wartości w sposób malejący, do funkcji musimy dodać parametr <code>ascending=False</code>.</p>
<h5>Drop_duplicates</h5>
<p>DataFrame <code>df</code>, na którym pracujemy, w tej sekcji zawiera w sobie zduplikowane wartości. Niekiedy występowanie takich duplikatów jest niepożądane. Aby je usunąć, możemy skorzystać z funkcji <code>drop_duplicates</code>.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>drop_duplicates<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-39.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-39.png" alt="image" style="width: auto;"></a>
<p>Po wykonaniu tej operacji widzimy, że ostatni wiersz, który zawierał te same wartości co pierwszy — został usunięty. Funkcja <code>drop_duplicates</code> posiada kilka argumentów, na podstawie których możemy modyfikować sposób usuwania duplikatów. Omówimy kilka z nich.</p>
<ul>
<li>
<p><code>subset</code> – parametr przyjmuje wartości w postaci nazwy kolumny lub listy kolumn. Jeśli nie wprowadzimy żadnej wartości, za duplikat będą uznane wiersze, w których wszystkie wartości są jednakowe. Uzupełnienie tego parametru o nazwę kolumny lub listę kolumn spowoduje, że za duplikat będą uznawane jedynie wartości powtarzające się obrębie odpowiednio kolumny lub listy kolumn.</p>
</li>
<li>
<p><code>keep</code> – parametr precyzuje, który duplikat (o ile w ogóle) zostawić w tabeli. Dostępne są 3 możliwości: <code>first</code>, <code>last</code> lub <code>False</code>. Domyślnie mamy do czynienia z metodą <code>first</code>, czego efektem jest wyrzucenie z tabeli wszystkich duplikatów poza pierwszym w kolejności. Wartość ustawiona na <code>last</code> będzie działać analogicznie odwrotnie, jednak ustawiając <code>False</code> z tabeli, zostaną usunięte wszystkie wartości, które posiadają swój duplikat.</p>
</li>
</ul>
<p>Więcej informacji znajdziesz w <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.drop_duplicates.html" target="_blank">dokumentacji Pandas</a>.</p>
<h3 id="21-wprowadzenie-do-pandas-multiindex">MultiIndex</h3>
<p>Poznaliśmy już podstawowe operacje, jakie możemy wykonywać na obiektach DataFrame. Z biegiem czasu będziemy poznawać coraz bardziej zaawansowane sposoby manipulowania danymi.</p>
<p>W tej części zajmiemy się tematyką MultiIndeksów. W tabeli z wynikami egzaminów studentów A, B, C oraz D chcielibyśmy umieścić informację o szkole, do której chodzą uczniowie. Studenci A oraz B uczęszczają do High School X, podczas gdy Studenci C i D na co dzień uczą się w High School Y.</p>
<p>Taką informację moglibyśmy trzymać w DataFrame w postaci MultiIndeksu, czyli indeksu składającego się z więcej niż jednej kolumny. Ostatecznie, efekt wygląda następująco:</p>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-40.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-40.png" alt="image" style="width: auto;"></a>
<p>Jak się za chwilę przekonamy, stworzenie hierarchicznego indeksu pozwoli nam przede wszystkim na łatwy dostęp do wyników uczniów z konkretnej szkoły.</p>
<p>Zanim jednak pokażemy, jak możemy wykorzystać taką konstrukcję indeksu, sprawdźmy, jak możemy do takiego etapu doprowadzić tabelę <code>df</code>.</p>
<pre class=" language-markup"><code class=" language-markup">exam1 = [89,85,93,83]
exam2 = [74,56,44,92]
exam3=[67,59,79,84]
df = pd.DataFrame({'e1':exam1, 'e2':exam2, 'e3':exam3}, index=labels)
df['semester1'] = df['e1']+df['e2']+df['e3']</code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-41.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-41.png" alt="image" style="width: auto;"></a>
<p>Skupimy się na dwóch różnych sposobach na uzyskanie efektu.</p>
<h5>Sposób nr 1 – <code>MultiIndex.from_tuples</code></h5>
<p>Pierwszym sposobem będzie stworzenie listy krotek, które docelowo zawierają pary etykiet w formacie (etykieta indeksu wyższej hierarchii, etykieta indeksu niższej hierarchii). W naszym przypadku krotki będą trzymały się schematu (nazwa szkoły, identyfikator ucznia).</p>
<pre class=" language-py"><code class=" language-py">schools <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'High School X'</span><span class="token punctuation">,</span><span class="token string">'High School X'</span><span class="token punctuation">,</span><span class="token string">'High School Y'</span><span class="token punctuation">,</span><span class="token string">'High School Y'</span><span class="token punctuation">]</span>
multi_index_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>school<span class="token punctuation">,</span>student<span class="token punctuation">)</span> <span class="token keyword">for</span> school<span class="token punctuation">,</span>student <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>schools<span class="token punctuation">,</span>df<span class="token punctuation">.</span>index<span class="token punctuation">)</span><span class="token punctuation">]</span>
multi_index_list</code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-42.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-42.png" alt="image" style="width: auto;"></a>
<p>Następnie wykorzystamy funkcję <code>MultiIndex.from_tuples</code>. Jak sama nazwa wskazuje, pozwala ona stworzyć MultiIndex z listy krotek.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>index <span class="token operator">=</span> pd<span class="token punctuation">.</span>MultiIndex<span class="token punctuation">.</span>from_tuples<span class="token punctuation">(</span>multi_index_list<span class="token punctuation">,</span>names<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'School'</span><span class="token punctuation">,</span><span class="token string">'Student'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
df</code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-43.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-43.png" alt="image" style="width: auto;"></a>
<p>Oprócz utworzonej wcześniej listy kolejnych par etykiet uzupełniamy parametr <code>names</code> o listę zawierająca nazwy poszczególnych poziomów w hierarchicznej strukturze indeksu. Dzięki temu będziemy mogli odwoływać się do poszczególnego poziomu indeksu, wywołując wprowadzone w tej liście nazwy.</p>
<h5>Sposób nr 2 - funkcja <code>set_index</code></h5>
<p>Tu sprawa wydaje się nieco prostsza i w naszym przypadku bez problemu możemy zrobić to w jednej linijce.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>set_index<span class="token punctuation">(</span><span class="token punctuation">[</span>pd<span class="token punctuation">.</span>Index<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'High School X'</span><span class="token punctuation">,</span><span class="token string">'High School X'</span><span class="token punctuation">,</span><span class="token string">'High School Y'</span><span class="token punctuation">,</span><span class="token string">'High School Y'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> df<span class="token punctuation">.</span>index<span class="token punctuation">]</span><span class="token punctuation">,</span>inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-44.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-44.png" alt="image" style="width: auto;"></a>
<p>Wewnątrz funkcji <code>set_index</code> wprowadzamy listę indeksów w kolejności odpowiadającej docelowej hierarchii MultiIndeksu. W naszym przypadku jako pierwszą pozycję wprowadzamy obiekt <code>Index</code> zawierający listę odpowiadającą nazwie szkoły każdego kolejnego ucznia w tabeli. Drugim elementem listy jest dotychczasowy indeks.</p>
<p>Widzimy jednak, że tym sposobem nie nadaliśmy osobnej nazwy indeksowi wyższego poziomu, czyli nazwie szkoły. Możemy to zrobić, zmieniając atrybut <code>names</code> naszego aktualnego MultiIndeksu.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>index<span class="token punctuation">.</span>names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'School'</span><span class="token punctuation">,</span><span class="token string">'Student'</span><span class="token punctuation">]</span>
df</code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-45.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-45.png" alt="image" style="width: auto;"></a>
<p>W końcu możemy zobaczyć, w jaki sposób docierać do konkretnych informacji w tabeli z hierarchicznym indeksem.</p>
<p>Wywołując znaną nam funkcję <code>loc</code>, możemy wprowadzić etykietę indeksu najwyższego rzędu. To polecenie zwróci nam wycinek DataFrame zawierający wszystkie pozycje ze wskazanego indeksu.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token string">'High School X'</span><span class="token punctuation">]</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-46.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-46.png" alt="image" style="width: auto;"></a>
<p>Teraz możemy wywołać kolejną funkcję <code>loc</code> lub <code>iloc</code>, aby dostać się do konkretnej pozycji z indeksu niższego rzędu.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token string">'High School X'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-47.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-47.png" alt="image" style="width: auto;"></a>
<p>Jednak w sytuacji, w której mamy do czynienia z MultiIndeksem, najczęściej korzystać będziemy z funkcji <code>xs</code>. Dzięki niej nawigowanie po indeksach różnej hierarchii nie wymaga stopniowego wywoływania kolejnych funkcji <code>loc</code> lub <code>iloc</code>.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>xs<span class="token punctuation">(</span><span class="token string">'High School Y'</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-48.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-48.png" alt="image" style="width: auto;"></a>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>xs<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">'High School Y'</span><span class="token punctuation">,</span><span class="token string">'Student D'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-48b.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-48b.png" alt="image" style="width: auto;"></a>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>xs<span class="token punctuation">(</span><span class="token string">'Student D'</span><span class="token punctuation">,</span>level<span class="token operator">=</span><span class="token string">'Student'</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-48c.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-48c.png" alt="image" style="width: auto;"></a>
<p>Przykłady powyżej można traktować jako odpowiednik operacji wykonywanych na <code>loc</code> oraz <code>iloc</code>.</p>
<p>W pierwszym wykorzystujemy funkcję <code>xs</code>, aby zwrócić tylko część tabeli odpowiednią dla wskazanego indeksu najwyższego poziomu.</p>
<p>Drugi przykład stanowi odpowiednik polecenia <code>df.loc['High School X'].iloc[1]</code> z tą różnicą, że zwracamy inny wiersz z danymi. Zwróćmy uwagę, że etykiety indeksów kolejnych hierarchii podajemy w postaci krotki.</p>
<p>Trzeci przykład pokazuje, w jaki sposób możemy wykorzystać nazwę kolejnego poziomu indeksu. Dzięki temu zapisowi możemy od razu odwoływać się do indeksu, który nas interesuje. W tym miejscu warto nadmienić, że gdyby Student D był obecny jednocześnie w High School X i High School Y, rezultat ostatniego zapytania zwróciłby wszystkie wiersze, w których można byłoby znaleźć identyfikator <code>Student D</code>.</p>
<h5>Ćwiczenie</h5>
<p>Do tabeli przypisanej do zmiennej <code>df</code> dodaj kolumny: <code>e4</code>, <code>e5</code>, <code>e6</code>. Niech wektory tych kolumn odzwierciedlają wyniki z kolejnych egzaminów w drugim semestrze Studentów A, B, C oraz D. Wyniki tych egzaminów niech będą losowane z liczb całkowitych o zakresie 1-100 włącznie. Następnie usuń kolumnę <code>semester1</code>. Po wykonaniu tych operacji stwórz indeks hierarchiczny dla kolumn tabeli, tak aby jego najwyższym rzędem było oznaczenie semestru, w którym napisany był dany egzamin.</p>
<h3 id="21-wprowadzenie-do-pandas-groupby">Groupby</h3>
<p>Groupby jest być może jedną z najważniejszych, a zapewne jedną z funkcji, z których najczęściej będziemy korzystać, analizując dane. Zasada jej działania nie różni się niczym od jej odpowiednika w języku SQL lub od zasady grupowania w tabeli przestawnej w arkuszach Microsoft Excel.</p>
<p>Najprościej mówiąc – funkcja Groupby umożliwia zgrupowanie wierszy na podstawie wskazanych kryteriów oraz zagregowanie wartości z grupowanych wierszy według niemalże dowolnego sposobu.</p>
<p>Aby zademonstrować działanie funkcji Groupby, stwórzmy nowy DataFrame zawierający informacje o kilku projektach finansowanych przez użytkowników portalu Kickstarter.</p>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-49.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-49.png" alt="image" style="width: auto;"></a>
<p class="text-center">
  <span class="collapse-toggles">
    <a href="https://kodilla.com/pl/bootcamp-module/704/484/6865#collapse-Dup_7VuSk-toggle" class="btn btn-primary collapsed" data-toggle="collapse">Pokaż kod</a>
    <a href="https://kodilla.com/pl/bootcamp-module/704/484/6865#collapse-Dup_7VuSk-toggle" class="btn btn-primary collapsed" data-toggle="collapse">Ukryj kod</a>
  </span>
</p>
<div id="collapse-Dup_7VuSk-toggle" class="collapse">
<pre class=" language-py"><code class=" language-py">df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'Category'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'Games'</span><span class="token punctuation">,</span><span class="token string">'Games'</span><span class="token punctuation">,</span><span class="token string">'Games'</span><span class="token punctuation">,</span>

                               <span class="token string">'Film&amp;Video'</span><span class="token punctuation">,</span><span class="token string">'Film&amp;Video'</span><span class="token punctuation">,</span><span class="token string">'Film&amp;Video'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

                  <span class="token string">'Project_Title'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'The Last Faith'</span><span class="token punctuation">,</span><span class="token string">'Magic Puzzles'</span><span class="token punctuation">,</span><span class="token string">'Dinosaur Fossil Hunter'</span><span class="token punctuation">,</span>

                                   <span class="token string">'Beyond Your Eyes'</span><span class="token punctuation">,</span><span class="token string">'5150'</span><span class="token punctuation">,</span><span class="token string">'8-Bit Wars'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

                  <span class="token string">'Pledged'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">92774</span><span class="token punctuation">,</span><span class="token number">2873519</span><span class="token punctuation">,</span><span class="token number">7962</span><span class="token punctuation">,</span>

                             <span class="token number">276</span><span class="token punctuation">,</span><span class="token number">23963</span><span class="token punctuation">,</span><span class="token number">6950</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

                  <span class="token string">'Country'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'UK'</span><span class="token punctuation">,</span><span class="token string">'USA'</span><span class="token punctuation">,</span><span class="token string">'Poland'</span><span class="token punctuation">,</span>

                             <span class="token string">'Bulgaria'</span><span class="token punctuation">,</span><span class="token string">'USA'</span><span class="token punctuation">,</span><span class="token string">'UK'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

                  <span class="token string">'Date_Start'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'2020-03-21'</span><span class="token punctuation">,</span><span class="token string">'2020-03-11'</span><span class="token punctuation">,</span><span class="token string">'2020-04-16'</span><span class="token punctuation">,</span>

                                <span class="token string">'2020-02-09'</span><span class="token punctuation">,</span><span class="token string">'2020-04-10'</span><span class="token punctuation">,</span><span class="token string">'2020-03-19'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
</div>
<p>Opis kolumn:</p>
<ul>
<li><code>Category</code> – kategoria, do której zaklasyfikowany został projekt.
– <code>Project_Title</code> – nazwa/tytuł finansowanego projektu.
– <code>Pledged</code> – kwota, jaką użytkownicy Kickstartera wsparli projekt do tej pory.
– <code>Country</code> – kraj pochodzenia projektu.
– <code>Date_Start</code> – data uruchomienia projektu na platformie.</li>
</ul>
<p>Na początek pogrupujmy dane według kategorii. Interesuje nas informacja na temat tego, jakie wsparcie finansowe uzyskały projekty należące do kategorii <code>Games</code> oraz <code>Film&amp;Video</code>.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token string">'Category'</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-50.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-50.png" alt="image" style="width: auto;"></a>
<p>Jeśli wywołamy funkcję Groupby i wskażemy tylko kolumnę, według której chcemy wykonać grupowanie, otrzymamy z powrotem jedynie informację o miejscu w pamięci, gdzie możemy znaleźć obiekt Groupby. Jeśli chcemy otrzymać z powrotem pogrupowany DataFrame, musimy wykonać funkcję agregującą informacje w wierszach.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token string">'Category'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-51.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-51.png" alt="image" style="width: auto;"></a>
<p>Jak widzimy, projekty z kategorii <code>Games</code> cieszą się znacznie większą popularnością wspierających w porównaniu do tych sklasyfikowanych jako <code>Film&amp;Video</code>.</p>
<p>Sprawdźmy, jaka jest średnia wartość wsparcia dla projektów z danej kategorii.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token string">'Category'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-52.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-52.png" alt="image" style="width: auto;"></a>
<p>W tym celu jedyne co musieliśmy zmienić w poleceniu, to funkcja agregująca. Tym razem wykorzystaliśmy <code>mean</code>, która uśrednia wszystkie wartości z kolumny <code>Pledged</code> dla odpowiednich kategorii.</p>
<p>Policzmy teraz, ile projektów występuje w każdej kategorii za pomocą Groupby. Wykorzystamy funkcję <code>count</code>.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token string">'Category'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-53.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-53.png" alt="image" style="width: auto;"></a>
<p>W tym przypadku funkcja <code>groupby</code> zwraca nam wszystkie kolumny DataFrame, zliczając ile wartości znajduje się w każdej z nich. Wcześniej, korzystając z funkcji <code>sum</code> oraz <code>mean</code>, Python nie był w stanie wykonać operacji odpowiednio sumowania oraz uśredniania na kolumnach zawierających wartości tekstowe, dlatego nie zostały nam one w ogóle zwrócone. W przypadku z funkcją <code>count</code> jest już inaczej i z tego powodu otrzymujemy z powrotem wszystkie kolumny.</p>
<p>Kolejnym przykładem będzie grupowanie dat. Załóżmy, że chcemy sprawdzić ile wynosi zsumowane wsparcie finansowe dla projektów z poszczególnych miesięcy. W tym celu wspomożemy się funkcją <code>pd.Grouper</code>, której działanie wyjaśnimy lada moment.</p>
<p>Najpierw jednak będziemy musieli przekształcić kolumnę <code>Date_Start</code> na obiekt <code>datetime</code>. W tym momencie wszystkie daty wprowadzone są jako string, dlatego Python nie będzie w stanie poprawnie ich zinterpretować, dokonując grupowania.</p>
<p>Na szczęście zamiana dat w formacie tekstowym na format <code>datetime</code> jest w Pandas niezwykle prosta. Wystarczy, że na obiekcie typu Series, w którym przechowujemy daty, wywołamy funkcję <code>pd.to_datetime</code>.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">[</span><span class="token string">'Date_Start'</span><span class="token punctuation">]</span> <span class="token operator">=</span> pd<span class="token punctuation">.</span>to_datetime<span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'Date_Start'</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Teraz już nic nie stoi na przeszkodzie, aby pogrupować daty startu według poszczególnych miesięcy. Funkcję <code>pd.Grouper</code>, o której wspominaliśmy wcześniej, możemy wykorzystać w tym celu w następujący sposób:</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span>pd<span class="token punctuation">.</span>Grouper<span class="token punctuation">(</span>key<span class="token operator">=</span><span class="token string">'Date_Start'</span><span class="token punctuation">,</span>freq<span class="token operator">=</span><span class="token string">'M'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-55.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-55.png" alt="image" style="width: auto;"></a>
<p>W miejsce etykiety grupowanej kolumny wprowadziliśmy funkcję <code>Grouper</code>, wewnątrz której sprecyzowaliśmy dwa argumenty:</p>
<pre class=" language-py"><code class=" language-py">pd<span class="token punctuation">.</span>Grouper<span class="token punctuation">(</span>key<span class="token operator">=</span>’Date_Start’<span class="token punctuation">,</span>freq<span class="token operator">=</span>’M’<span class="token punctuation">)</span></code></pre>
<p>Argument <code>key</code> oznacza etykietę kolumny, według której chcemy grupować, podczas gdy <code>freq</code> (od frequency) oznacza częstotliwość grupowania tej kolumny. Ponieważ interesuje nas grupowanie miesiąc do miesiąca, wartość tego parametru ustawiliśmy jako <code>‘M’</code>.</p>
<p>Dostępne sposoby ustalania częstotliwości możemy znaleźć w dokumentacji. Poniżej prezentujemy kilka najczęściej wykorzystywanych częstotliwości:</p>
<ul>
<li><code>‘B’</code> - business day,</li>
<li><code>‘C’</code> - dzień kalendarzowy,</li>
<li><code>‘W’</code> - tydzień,</li>
<li><code>‘Q’</code> - kwartał,</li>
<li><code>‘Y’</code> - rok,</li>
<li><code>‘H’</code> - godzina.</li>
</ul>
<p>Na koniec pokażemy jeszcze dwa przykłady bardziej zaawansowanego wykorzystania <code>groupby</code>. Do tej pory agregowaliśmy dane zawsze według jednej funkcji, w rzeczywistości możemy to robić na więcej sposobów, używając jednego polecenia.</p>
<p>Rozwijając problem, który rozwiązaliśmy w poprzednim przykładzie, spróbujemy teraz jednym poleceniem zgrupować projekty według miesiąca <code>‘Date_Start’</code>, tak aby oprócz zebranej dotychczas sumy mieć obok informację o liczbie składających się na nią projektów.</p>
<p>W tym celu, zamiast podawać jedną funkcję agregującą, wykorzystamy <code>agg</code>, w której sprecyzujemy sposób agregowania każdej kolumny.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span>pd<span class="token punctuation">.</span>Grouper<span class="token punctuation">(</span>key<span class="token operator">=</span><span class="token string">'Date_Start'</span><span class="token punctuation">,</span>freq<span class="token operator">=</span><span class="token string">'M'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>agg<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'Pledged'</span><span class="token punctuation">:</span><span class="token string">'sum'</span><span class="token punctuation">,</span><span class="token string">'Project_Title'</span><span class="token punctuation">:</span><span class="token string">'count'</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-56.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-56.png" alt="image" style="width: auto;"></a>
<p>Jak widzimy, wprowadziliśmy do funkcji <code>agg</code> słownik, w którym kluczami są etykiety kolumn, a wartościami sposoby agregowania. Rezultatem będą wyłącznie te kolumny, które znajdą się w słowniku: w tym przypadku kolumna zsumowana <code>Pledged</code> oraz liczba elementów dla kolumny <code>Project_Title</code>.</p>
<p>Grupowanie nie musi zawsze odbywać się według jednej kolumny. Jeśli chcemy dokonać tego na więcej niż jednej kolumnie, możemy wewnątrz funkcji <code>groupby</code> wprowadzić listę kolumn.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'Country'</span><span class="token punctuation">,</span><span class="token string">'Category'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-57.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-57.png" alt="image" style="width: auto;"></a>
<p>Rezultatem takiej operacji będzie DataFrame wyposażony w MultiIndex z hierarchią zachowaną zgodnie z wprowadzoną do <code>groupby</code> listą kolumn.</p>
<h3 id="21-wprowadzenie-do-pandas-brakujace-dane">Brakujące dane</h3>
<p>W praktyce związanej z analizą danych bardzo często zdarza się, że bazy danych, na których pracujemy, mają niepełne informacje lub – ujmując to inaczej – w poszczególnych miejscach brakuje nam uzupełnionych danych.</p>
<p>Istnieje wiele różnych teorii dotyczących tego, jak radzić sobie z brakującymi informacjami, pracując na rzeczywistych zbiorach danych. W tym miejscu skupimy się jednak przede wszystkim na technicznych aspektach radzenia sobie z tym problemem, wykorzystując funkcje dostępne w pakiecie Pandas.</p>
<p>Na początek stwórzmy nowy obiekt DataFrame, który zawierał będzie brakujące wartości.</p>
<pre class=" language-py"><code class=" language-py">df_with_nulls <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'A'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>np<span class="token punctuation">.</span>nan<span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">,</span><span class="token number">10000</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                             <span class="token string">'B'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span>np<span class="token punctuation">.</span>nan<span class="token punctuation">]</span><span class="token punctuation">,</span>
                             <span class="token string">'C'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">40</span><span class="token punctuation">,</span>np<span class="token punctuation">.</span>nan<span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span>np<span class="token punctuation">.</span>nan<span class="token punctuation">,</span>np<span class="token punctuation">.</span>nan<span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
df_with_nulls</code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-58.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-58.png" alt="image" style="width: auto;"></a>
<h5>Dropna</h5>
<p>Na początek weźmiemy funkcję <code>dropna</code>. Posłuży ona do pozbywania się wierszy i kolumn, które posiadają brakujące dane.</p>
<p>Jeśli wywołamy funkcję <code>dropna</code> na całej tabeli, bez żadnych dodatkowych parametrów, usunie ona wszystkie wiersze, w których znajdzie choćby jedną brakującą wartość. Wywołując ją zatem na naszej tabeli, usunie wszystkie wiersze z wyjątkiem pierwszego.</p>
<pre class=" language-py"><code class=" language-py">df_with_nulls<span class="token punctuation">.</span>dropna<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-59.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-59.png" alt="image" style="width: auto;"></a>
<p>Na szczęście nie musimy być zawsze tak rygorystyczni. Wykorzystując parametr <code>thresh</code>, możemy sprecyzować minimalną liczbę uzupełnionych wartości w wierszu, która kwalifikuje go do pozostania w tabeli.</p>
<pre class=" language-py"><code class=" language-py">df_with_nulls<span class="token punctuation">.</span>dropna<span class="token punctuation">(</span>thresh<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-60.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-60.png" alt="image" style="width: auto;"></a>
<p>Jeśli porównamy rezultat tej operacji do pierwotnej tabeli, przekonamy się, że warunku (minimum dwóch uzupełnionych wartości w wierszu) nie spełnił jedynie ten ostatni. Z tego powodu nie widzimy go już w ostatecznej tabeli.</p>
<p>Możemy również pozbywać się w ten sposób kolumn. Wystarczy, że tak jak w wielu poprzednich przypadkach sprecyzujemy odpowiednio parametr <code>axis</code>, a <code>dropna</code> odrzuci kolumny, które nie spełniają wymaganych kryteriów.</p>
<pre class=" language-py"><code class=" language-py">df_with_nulls<span class="token punctuation">.</span>dropna<span class="token punctuation">(</span>thresh<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-61.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-61.png" alt="image" style="width: auto;"></a>
<p>Po wykonaniu tego polecenia pozbyliśmy się kolumny C, która zawierała zaledwie dwie uzupełnione wartości.</p>
<h5>Fillna</h5>
<p>Zdarza się również, że jeśli w wierszu/kolumnie brakuje nam stosunkowo niewielkiej ilości danych, zamiast wyrzucać z analizy całą serię obserwacji, uzupełniamy brakujące dane, wykorzystując całą paletę dostępnych sposobów.</p>
<p>W Pandas w tym celu wykorzystujemy funkcję <code>fillna</code>.</p>
<p>Pierwszy argument tej funkcji to wartość, jaką mają być wypełnione puste miejsca. Może to być statyczna wartość, jak również funkcja, która pozwoli nam uzupełnić brakujące dane w dynamiczny sposób.</p>
<p>Na początek przykład statycznej wartości, aby na 100% zrozumieć zasadę działania:</p>
<pre class=" language-py"><code class=" language-py">df_with_nulls<span class="token punctuation">.</span>fillna<span class="token punctuation">(</span><span class="token string">'NOWA WARTOŚĆ'</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-62.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-62.png" alt="image" style="width: auto;"></a>
<p>W ten sposób najzwyczajniej w świecie, w miejsce brakujących wartości, wprowadzam string <code>‘NOWA WARTOŚĆ’</code>. W praktyce oczywiście nigdy czegoś takiego byśmy nie zrobili. Znacznie częściej będziemy na przykład zastępować puste wartości średnią wartością dla całej kolumny.</p>
<pre class=" language-py"><code class=" language-py">df_with_nulls<span class="token punctuation">[</span><span class="token string">'B'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>fillna<span class="token punctuation">(</span>df_with_nulls<span class="token punctuation">[</span><span class="token string">'B'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-63.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-63.png" alt="image" style="width: auto;"></a>
<p>W tym przypadku pustą wartość przy indeksie 4 zamieniono na średnią z tej kolumny, czyli liczbę 3.</p>
<p>Funkcja <code>fillna</code> oferuje nam również możliwość wypełnienia pustych wartości według metody <code>backfill</code> lub <code>ffill</code>. Oznacza to, że Pandas uzupełni każdą pustą wartość odpowiednio następną uzupełnioną wartością w kolumnie oraz pierwszą dostępną wcześniej uzupełnioną wartością.</p>
<p>W przykładzie poniżej sprawdzimy działanie <code>ffill</code>.</p>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-64.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-64.png" alt="image" style="width: auto;"></a>
<p>Jak widać, pusta wartość w indeksie 2 została zastąpiona przez pierwszą dostępną wcześniej wartość, czyli w tym przypadku liczbę 100.</p>
<h3 id="21-wprowadzenie-do-pandas-merge-join-concatenate">Merge, Join, Concatenate</h3>
<p>W tej sekcji zajmiemy się tematyką łączenia ze sobą różnych DataFrame. W Pandas służą nam do tego funkcje: <code>merge</code>, <code>join</code> oraz <code>concat</code>. Wszystkie trzy mają podobne właściwości i nie różnią się od siebie znacząco. Większość operacji związanych z łączeniem DataFrame możemy uzyskać dzięki każdej, dlatego w praktyce częstotliwość korzystania z nich zależy od przyzwyczajenia.</p>
<p>Funkcję <code>concat</code> wykorzystujemy najczęściej do "sklejenia" ze sobą wielu DataFrame wzdłuż indeksów jednej z osi. Ogromną zaletą tej funkcji jest możliwość sklejenia ze sobą wielu tabel za jednym razem. W przeciwieństwie do pozostałych funkcji <code>concat</code> przyjmuje bowiem listę DataFrame, które ma ze sobą połączyć.</p>
<p>Zanim pokażemy przykłady wykorzystania <code>concat</code>, stwórzmy trzy tabele, które będziemy ze sobą łączyć:</p>
<p class="text-center">
  <span class="collapse-toggles">
    <a href="https://kodilla.com/pl/bootcamp-module/704/484/6865#collapse-CzpzxjhyAt-toggle" class="btn btn-primary collapsed" data-toggle="collapse">Pokaż kod</a>
    <a href="https://kodilla.com/pl/bootcamp-module/704/484/6865#collapse-CzpzxjhyAt-toggle" class="btn btn-primary collapsed" data-toggle="collapse">Ukryj kod</a>
  </span>
</p>
<div id="collapse-CzpzxjhyAt-toggle" class="collapse">
<pre class=" language-py"><code class=" language-py">df1 <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'A'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'A0'</span><span class="token punctuation">,</span> <span class="token string">'A1'</span><span class="token punctuation">,</span> <span class="token string">'A2'</span><span class="token punctuation">,</span> <span class="token string">'A3'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

                    <span class="token string">'B'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'B0'</span><span class="token punctuation">,</span> <span class="token string">'B1'</span><span class="token punctuation">,</span> <span class="token string">'B2'</span><span class="token punctuation">,</span> <span class="token string">'B3'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

                    <span class="token string">'C'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'C0'</span><span class="token punctuation">,</span> <span class="token string">'C1'</span><span class="token punctuation">,</span> <span class="token string">'C2'</span><span class="token punctuation">,</span> <span class="token string">'C3'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

                    <span class="token string">'D'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'D0'</span><span class="token punctuation">,</span> <span class="token string">'D1'</span><span class="token punctuation">,</span> <span class="token string">'D2'</span><span class="token punctuation">,</span> <span class="token string">'D3'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

                    index<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

df2 <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'A'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'A4'</span><span class="token punctuation">,</span> <span class="token string">'A5'</span><span class="token punctuation">,</span> <span class="token string">'A6'</span><span class="token punctuation">,</span> <span class="token string">'A7'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

                    <span class="token string">'B'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'B4'</span><span class="token punctuation">,</span> <span class="token string">'B5'</span><span class="token punctuation">,</span> <span class="token string">'B6'</span><span class="token punctuation">,</span> <span class="token string">'B7'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

                    <span class="token string">'C'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'C4'</span><span class="token punctuation">,</span> <span class="token string">'C5'</span><span class="token punctuation">,</span> <span class="token string">'C6'</span><span class="token punctuation">,</span> <span class="token string">'C7'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

                    <span class="token string">'D'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'D4'</span><span class="token punctuation">,</span> <span class="token string">'D5'</span><span class="token punctuation">,</span> <span class="token string">'D6'</span><span class="token punctuation">,</span> <span class="token string">'D7'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

                    index<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

df3 <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'A'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'A8'</span><span class="token punctuation">,</span> <span class="token string">'A9'</span><span class="token punctuation">,</span> <span class="token string">'A10'</span><span class="token punctuation">,</span> <span class="token string">'A11'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

                    <span class="token string">'B'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'B8'</span><span class="token punctuation">,</span> <span class="token string">'B9'</span><span class="token punctuation">,</span> <span class="token string">'B10'</span><span class="token punctuation">,</span> <span class="token string">'B11'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

                    <span class="token string">'C'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'C8'</span><span class="token punctuation">,</span> <span class="token string">'C9'</span><span class="token punctuation">,</span> <span class="token string">'C10'</span><span class="token punctuation">,</span> <span class="token string">'C11'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

                    <span class="token string">'D'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'D8'</span><span class="token punctuation">,</span> <span class="token string">'D9'</span><span class="token punctuation">,</span> <span class="token string">'D10'</span><span class="token punctuation">,</span> <span class="token string">'D11'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

                    index<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
</div>
<h5>Concatenate</h5>
<p>Jeśli chcemy zestawić wszystkie trzy tabele jedna pod drugą wykorzystamy funkcję <code>concat</code>, a jako jej jedyny argument wprowadzimy listę <code>[df1,df2,df3]</code>.</p>
<pre class=" language-py"><code class=" language-py">pd<span class="token punctuation">.</span>concat<span class="token punctuation">(</span><span class="token punctuation">[</span>df1<span class="token punctuation">,</span>df2<span class="token punctuation">,</span>df3<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-66.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-66.png" alt="image" style="width: auto;"></a>
<p>Funkcja <code>cocnat</code> rozpoznała powtarzające się etykiety kolumn w każdej tabeli, dzięki czemu mogła skleić je jedna pod drugą, tak jak widzimy to na przykładzie.</p>
<p>W sytuacji, w której etykiety kolumn nie zgadzałyby się ze sobą, tabele byłyby zestawione jedna pod drugą, jednak liczba kolumn rozszerzyłaby się o te, które nie mają części wspólnej.</p>
<p>Dla zobrazowania problemu użyjemy funkcji <code>concat</code>, aby połączyć ze sobą <code>df1</code> oraz obiekt typu Series.</p>
<pre class=" language-py"><code class=" language-py">s <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'S1'</span><span class="token punctuation">,</span><span class="token string">'S2'</span><span class="token punctuation">,</span><span class="token string">'S3'</span><span class="token punctuation">,</span><span class="token string">'S4'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
pd<span class="token punctuation">.</span>concat<span class="token punctuation">(</span><span class="token punctuation">[</span>df1<span class="token punctuation">,</span>s<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-67.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-67.png" alt="image" style="width: auto;"></a>
<p>Ponieważ indeksy osi pionowej <code>df1</code> oraz <code>s</code> zgadzają się ze sobą, możemy użyć funkcji <code>concat</code>, aby połączyć je ze sobą według <code>axis=1</code>.</p>
<pre class=" language-py"><code class=" language-py">s <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'S1'</span><span class="token punctuation">,</span><span class="token string">'S2'</span><span class="token punctuation">,</span><span class="token string">'S3'</span><span class="token punctuation">,</span><span class="token string">'S4'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
pd<span class="token punctuation">.</span>concat<span class="token punctuation">(</span><span class="token punctuation">[</span>df1<span class="token punctuation">,</span>s<span class="token punctuation">]</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-68.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-68.png" alt="image" style="width: auto;"></a>
<p>Widzimy zatem, że zmieniając parametr <code>axis</code> (który domyślnie ustawiony jest jako wartość 0), możemy manipulować tym, względem której osi tabele będą się ze sobą łączyć.</p>
<p>Spróbujmy w takim razie połączyć w ten sposób <code>df1</code>, <code>df2</code> oraz <code>df3</code>.</p>
<pre class=" language-py"><code class=" language-py">pd<span class="token punctuation">.</span>concat<span class="token punctuation">(</span><span class="token punctuation">[</span>df1<span class="token punctuation">,</span>df2<span class="token punctuation">,</span>df3<span class="token punctuation">]</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>keys<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'first'</span><span class="token punctuation">,</span><span class="token string">'second'</span><span class="token punctuation">,</span><span class="token string">'third'</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-69.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-69.png" alt="image" style="width: auto;"></a>
<p>Ze względu na fakt, że indeksy trzech DataFrame nie zgadzają się ze sobą, rezultat tej operacji generuje analogiczny problem, jak w przypadku:</p>
<pre class=" language-py"><code class=" language-py">s <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'S1'</span><span class="token punctuation">,</span><span class="token string">'S2'</span><span class="token punctuation">,</span><span class="token string">'S3'</span><span class="token punctuation">,</span><span class="token string">'S4'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

pd<span class="token punctuation">.</span>concat<span class="token punctuation">(</span><span class="token punctuation">[</span>df1<span class="token punctuation">,</span>s<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>W tym przykładzie uzupełniliśmy dodatkowo parametr <code>keys</code> o listę etykiet, która oprócz tego, że pozwala nam rozróżnić od siebie połączone DataFrame, tworzy również indeks wyższego rzędu. W konsekwencji możemy korzystać z tych indeksów w taki sam sposób, jaki pokazywaliśmy w sekcji poświęconej MultiIndexowaniu.</p>
<h5>Ćwiczenie</h5>
<p>Połącz ze sobą <code>df1</code>, <code>df2</code>, <code>df3</code> wzdłuż osi poziomej używając funkcji <code>concat</code>. Postaraj się, aby połączona tabela nie rozszerzała się na dodatkowe wiersze 
                        </p></div>
                    </div>
                                        <div class="card-block submodule-footer clearfix ">
                                                <small>Jeśli masz wątpliwości do powyższego materiału, to - zanim zatwierdzisz - zapytaj na czacie :)</small>
                                                <div class="clearfix">
                                                                                <button class="btn  btn-read btn-success-outline "><i class="fa fa-check"></i><span>Zapoznałe(a)m się!</span></button>
                                                                                                    </div>
                    </div>
                </section>
                                    
                <section id="submodule-1787" class="card submodule " data-bootcamp-user-submodule-id="728518">
                <!-- klasy dla section: completed current comments -->
                    <div class="card-block submodule-header clearfix">
                        <i class="fa fa-check-circle-o fa-2x"></i>
                        <i class="fa fa-play-circle-o fa-2x"></i>
                        <i class="fa fa-exclamation-circle fa-2x"></i>
                        <i class="fa fa-send-o fa-2x"></i>
                        <h2 class="bootcamp-submodule-name">2.2. <span>Praca z arkuszami Microsoft Excel</span></h2>
                                            </div>
                    <div class="card-block">
                        <div class="submodule-content">
                            <p>Pandas umożliwia szybki odczyt i zapis plików do większości formatów, z których korzystamy w procesie analizy danych. W tym rozdziale omówimy pracę z plikami typu CSV i Excel. Pokażemy również sposób na wczytywanie danych prosto z tabeli HTML, a także jak pracować z danymi przechowywanymi w relacyjnej bazie danych SQL.</p>
<h3 id="22-praca-z-arkuszami-microsoft-excel-pliki-csv">Pliki csv</h3>
<p>W celu wczytania danych z pliku <code>csv</code>, bezpośrednio do obiektu DataFrame, wystarczy użyć funkcji <code>read_csv</code>.</p>
<pre class=" language-py"><code class=" language-py">df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'myCsvFile.csv'</span><span class="token punctuation">)</span></code></pre>
<p>Eksport do pliku <code>csv</code> polega na wywołaniu funkcji <code>to_csv</code> na obiekcie typu DataFrame.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>to_csv<span class="token punctuation">(</span><span class="token string">'myNewCsvFile.csv'</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span></code></pre>
<p>Dodanie na końcu komendy <code>index=False</code> jest opcjonalne. Pozwala to jednak na eksport do formatu <code>csv</code> bez uwzględniania etykiet indeksu.</p>
<h3 id="22-praca-z-arkuszami-microsoft-excel-praca-z-plikami-excel">Praca z plikami Excel</h3>
<p>Podstawowy odczyt i zapis do plików Excel działa bardzo podobnie, jak w przypadku plików <code>csv</code>. Możesz pobrać <a href="https://uploads.kodilla.com/bootcamp/pro-data-visualization/files/myExcelFile.xlsx" target="_blank">przykładowy plik</a>. Dane do DataFrame wczytujemy w następujący sposób:</p>
<pre class=" language-py"><code class=" language-py"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_excel<span class="token punctuation">(</span><span class="token string">'myExcelFile.xlsx'</span><span class="token punctuation">,</span> sheet_name<span class="token operator">=</span><span class="token string">'my_data'</span><span class="token punctuation">)</span></code></pre>
<p>Wprowadzenie parametru określającego nazwę zakładki, z której Pandas postara się pobrać dane, jest opcjonalne. Domyślnie wczytana będzie zawartość pierwszej zakładki.</p>
<p>Eksport do pliku Excel wykonujemy, wykorzystując funkcję <code>to_excel</code>.</p>
<pre class=" language-py"><code class=" language-py">df <span class="token operator">=</span> pd<span class="token punctuation">.</span>to_excel<span class="token punctuation">(</span><span class="token string">'myNewExcelFile.xlsx'</span><span class="token punctuation">,</span> sheet_name<span class="token operator">=</span><span class="token string">'my_new_data'</span><span class="token punctuation">)</span></code></pre>
<p>Bardziej zaawansowane operacje na plikach MS Excel możemy wykonać dzięki silnikowi <strong>XlsxWriter</strong>.</p>
<div class="bc-note alert-warning">
<h4 class="alert-heading text-center">UWAGA</h4>
<p>Aby przykłady zaprezentowane poniżej działały poprawnie, musisz mieć zainstalowany pakiet Office z programem Microsoft Excel.</p>
</div>
<p>Standardowy zapis DataFrame do skoroszytu Excel wypełnia kolejne komórki we wskazanej zakładce, rozpoczynając od <code>A1</code>. Korzystając z silnika XlsxWriter, możemy korzystać z całej długości i szerokości arkusza w celu zapisywania i formatowania danych w niemalże dowolny sposób.</p>
<p>W pierwszym przykładzie zapiszemy dwa razy tę samą tabelę do tej samej zakładki arkusza Excel.</p>
<p>Na początek stworzymy obiekt <code>ExcelWriter</code>, w którym sprecyzujemy nazwę pliku oraz silnik, którego chcemy używać.</p>
<pre class=" language-py"><code class=" language-py">writer <span class="token operator">=</span> pd<span class="token punctuation">.</span>ExcelWriter<span class="token punctuation">(</span><span class="token string">'pandas_simple.xlsx'</span><span class="token punctuation">,</span> engine<span class="token operator">=</span><span class="token string">'xlsxwriter'</span><span class="token punctuation">)</span></code></pre>
<p>Do obiektu przypisanego do zmiennej <code>writer</code> będziemy odwoływać się, zapisując kolejne DataFrame do arkusza.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>to_excel<span class="token punctuation">(</span>writer<span class="token punctuation">,</span> sheet_name<span class="token operator">=</span><span class="token string">'my_dfs'</span><span class="token punctuation">)</span>
df<span class="token punctuation">.</span>to_excel<span class="token punctuation">(</span>writer<span class="token punctuation">,</span> sheet_name<span class="token operator">=</span><span class="token string">'my_dfs'</span><span class="token punctuation">,</span> startcol<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">,</span> startrow<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span></code></pre>
<p>Nie dodając dodatkowych parametrów związanych z pozycją tabeli przypisanej do zmiennej <code>df</code>, możemy spodziewać się, zostanie zapisana w arkuszu, rozpoczynając od komórki <code>A1</code>. Zapisując drugi raz tabelę <code>df</code>, korzystając z parametrów <code>startcol</code> oraz <code>startrow</code> dajemy dodatkowe instrukcje co do miejsca, w którym ma znaleźć się output.</p>
<p>Na koniec zapisujemy plik przy użyciu komendy:</p>
<pre class=" language-py"><code class=" language-py">writer<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Spójrzmy zatem na efekt:</p>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-81.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-81.png" alt="image" style="width: auto;"></a>
<p>W podobny sposób możemy zapisywać dane do różnych zakładek tego samego pliku:</p>
<pre class=" language-py"><code class=" language-py">writer <span class="token operator">=</span> pd<span class="token punctuation">.</span>ExcelWriter<span class="token punctuation">(</span><span class="token string">'many_sheets.xlsx'</span><span class="token punctuation">,</span> engine<span class="token operator">=</span><span class="token string">'xlsxwriter'</span><span class="token punctuation">)</span>

df<span class="token punctuation">.</span>to_excel<span class="token punctuation">(</span>writer<span class="token punctuation">,</span> sheet_name<span class="token operator">=</span><span class="token string">'my_df1'</span><span class="token punctuation">)</span>
df<span class="token punctuation">.</span>to_excel<span class="token punctuation">(</span>writer<span class="token punctuation">,</span> sheet_name<span class="token operator">=</span><span class="token string">'my_df2'</span><span class="token punctuation">)</span>

writer<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-82.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-82.png" alt="image" style="width: auto;"></a>
<p>Jak wspomnieliśmy, XlsxWriter umożliwia nam operowanie na skoroszycie MS Excel w bardzo rozbudowany sposób. W kolejnym przykładzie dodamy do pliku wykres w całości z poziomu Pythona.</p>
<p>Rozpoczynamy w poznany już wcześniej sposób od zdefiniowania <code>ExcelWriter</code> i zapisania tabeli do nowej zakładki.</p>
<pre class=" language-py"><code class=" language-py">writer <span class="token operator">=</span> pd<span class="token punctuation">.</span>ExcelWriter<span class="token punctuation">(</span><span class="token string">'add_chart.xlsx'</span><span class="token punctuation">,</span> engine<span class="token operator">=</span><span class="token string">'xlsxwriter'</span><span class="token punctuation">)</span>
df<span class="token punctuation">.</span>to_excel<span class="token punctuation">(</span>writer<span class="token punctuation">,</span> sheet_name<span class="token operator">=</span><span class="token string">'my_chart'</span><span class="token punctuation">)</span></code></pre>
<p>W celu wykreowania wykresu musimy stworzyć obiekty typu Workbook oraz Worksheet.</p>
<pre class=" language-py"><code class=" language-py">workbook <span class="token operator">=</span> writer<span class="token punctuation">.</span>book
worksheet <span class="token operator">=</span> writer<span class="token punctuation">.</span>sheets<span class="token punctuation">[</span><span class="token string">'my_chart'</span><span class="token punctuation">]</span></code></pre>
<p>Następnie, z poziomu Workbooka tworzymy obiekt <code>Chart</code>, definiując od razu, jakiego typu ma być to wykres. Możemy skorzystać z następujących rodzajów:</p>
<ul>
<li><code>area</code>: wykres powierzchniowy.</li>
<li><code>bar</code>: wykres słupkowy (poziomy).</li>
<li><code>column</code>: wykres kolumnowy.</li>
<li><code>line</code>: wykres liniowy.</li>
<li><code>pie</code>: wykres kołowy.</li>
<li><code>doughnut</code>: wykres pierścieniowy.</li>
<li><code>scatter</code>: wykres punktowy.</li>
<li><code>stock</code>: wykres ‘giełdowy’.</li>
<li><code>radar</code>: wykres typu radar.</li>
</ul>
<p>W naszym przykładzie stworzymy wykres z danych umieszczonych w kolumnie B, dlatego najlepszym rozwiązaniem będzie wykres liniowy.</p>
<pre class=" language-py"><code class=" language-py">chart <span class="token operator">=</span> workbook<span class="token punctuation">.</span>add_chart<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'type'</span><span class="token punctuation">:</span><span class="token string">'line'</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p>Ponieważ w tym momencie pracujemy już w skoroszycie, aby wybrać wartości na wykresie, musimy wskazać zakres komórek, tak, jak gdybyśmy robili to ręcznie w arkuszu.</p>
<p>Napiszmy funkcję, która tworzy zakres na podstawie kolumny, którą chcemy użyć jako wartości wykresu.</p>
<pre class=" language-py"><code class=" language-py"><span class="token keyword">def</span> <span class="token function">grab_series</span><span class="token punctuation">(</span>df<span class="token punctuation">,</span> sheet_name<span class="token punctuation">,</span> colname<span class="token punctuation">,</span> startcol<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> startrow<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    col_index <span class="token operator">=</span> df<span class="token punctuation">.</span>columns<span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>index<span class="token punctuation">(</span>colname<span class="token punctuation">)</span>
    col_letter <span class="token operator">=</span> <span class="token builtin">chr</span><span class="token punctuation">(</span><span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">'@'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token punctuation">(</span>col_index<span class="token operator">+</span><span class="token number">2</span><span class="token operator">+</span>startcol<span class="token punctuation">)</span><span class="token punctuation">)</span>
    first_row <span class="token operator">=</span> startrow <span class="token operator">+</span> <span class="token number">2</span>
    last_row <span class="token operator">=</span> startrow <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token builtin">len</span><span class="token punctuation">(</span>df<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f"='</span><span class="token interpolation"><span class="token punctuation">{</span>sheet_name<span class="token punctuation">}</span></span><span class="token string">'!</span><span class="token interpolation"><span class="token punctuation">{</span>col_letter<span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span>first_row<span class="token punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token punctuation">{</span>col_letter<span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span>last_row<span class="token punctuation">}</span></span><span class="token string">"</span></span></code></pre>
<p>Teraz do obiektu <code>chart</code> możemy dodać serię wartości:</p>
<pre class=" language-py"><code class=" language-py">chart<span class="token punctuation">.</span>add_series<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'values'</span><span class="token punctuation">:</span>grab_series<span class="token punctuation">(</span>df<span class="token punctuation">,</span><span class="token string">'my_chart'</span><span class="token punctuation">,</span><span class="token string">'B'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p>Jeśli nasz wykres nabrał już pierwszych kształtów, możemy sformatować go wedle uznania. Na pewno będziemy chcieli zająć się osią X: wprowadzimy jej nazwę, zmienimy rozmiar oraz grubość czcionki; poza tym będziemy chcieli, aby wartości na osi X były wydrukowane pochyloną czcionką.</p>
<pre class=" language-py"><code class=" language-py">chart<span class="token punctuation">.</span>set_x_axis<span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'x^2'</span><span class="token punctuation">,</span>
    <span class="token string">'name_font'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">'size'</span><span class="token punctuation">:</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token string">'bold'</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">'num_font'</span><span class="token punctuation">:</span>  <span class="token punctuation">{</span><span class="token string">'italic'</span><span class="token punctuation">:</span> <span class="token boolean">True</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p>Ponieważ nadaliśmy już nazwę osi X, a nasz wykres zawiera tylko jedną serię – dobrym pomysłem będzie pozbycie się legendy, która domyślnie zawsze pojawia się na wykresie. W tym celu wystarczy wprowadzić polecenie:</p>
<pre class=" language-py"><code class=" language-py">chart<span class="token punctuation">.</span>set_legend<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'none'</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p>Zakończyliśmy pracę nad wykresem, zatem kolejnym krokiem jest umieszczenie go w wybranym miejscu arkusza, w którym pracujemy. Wcześniej stworzyliśmy obiekt <code>worksheet</code>, który posłuży nam do osadzenia wykresu w pliku.</p>
<pre class=" language-py"><code class=" language-py">worksheet<span class="token punctuation">.</span>insert_chart<span class="token punctuation">(</span><span class="token string">'F2'</span><span class="token punctuation">,</span> chart<span class="token punctuation">)</span></code></pre>
<p>Na koniec zapiszemy i zamkniemy plik.</p>
<pre class=" language-py"><code class=" language-py">writer<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>
workbook<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Spójrzmy na efekt naszej pracy!</p>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-83.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-83.png" alt="image" style="width: auto;"></a>
<p>W taki oto sposób udało nam się zapisać tabelę i stworzyć do niej wykres bez ręcznej pracy w Excelu. Oczywiście, silnik XlsxWriter umożliwia bardziej zaawansowane formatowanie. Zachęcamy do zapoznania się z <a href="https://xlsxwriter.readthedocs.io/" target="_blank">dokumentacją</a>.</p>
<p>W kolejnym przykładzie stworzymy plik, który zawierał będzie w sobie formatowanie warunkowe na komórkach przechowujących wartość z wyeksportowanej przez nas tabeli oraz komórkę przyjmującą jedynie wartości będące liczbami całkowitymi większymi od zera.</p>
<p>Rozpoczniemy tak, jak ostatnio, od stworzenia trzech podstawowych obiektów i wyeksportowania DataFrame:</p>
<pre class=" language-py"><code class=" language-py">writer <span class="token operator">=</span> pd<span class="token punctuation">.</span>ExcelWriter<span class="token punctuation">(</span><span class="token string">'conditional_format.xlsx'</span><span class="token punctuation">,</span> engine<span class="token operator">=</span><span class="token string">'xlsxwriter'</span><span class="token punctuation">)</span>

df<span class="token punctuation">.</span>to_excel<span class="token punctuation">(</span>writer<span class="token punctuation">,</span> sheet_name<span class="token operator">=</span><span class="token string">'my_conditional'</span><span class="token punctuation">)</span>

workbook <span class="token operator">=</span> writer<span class="token punctuation">.</span>book
worksheet <span class="token operator">=</span> writer<span class="token punctuation">.</span>sheets<span class="token punctuation">[</span><span class="token string">'my_conditional'</span><span class="token punctuation">]</span></code></pre>
<p>Będziemy chcieli wzbogacić ostatnią kolumnę wyeksportowanej tabeli o formatowanie warunkowe dla wartości powyżej liczby 300. W tym celu musimy ustalić jaki format przybiorą komórki spełniające warunek.</p>
<p>Stworzymy nasz własny format w tym skoroszycie, korzystając z metody <code>add_format</code>.</p>
<pre class=" language-py"><code class=" language-py">format1 <span class="token operator">=</span> workbook<span class="token punctuation">.</span>add_format<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'bg_color'</span><span class="token punctuation">:</span>   <span class="token string">'#FFC7CE'</span><span class="token punctuation">,</span>
                               <span class="token string">'font_color'</span><span class="token punctuation">:</span> <span class="token string">'#9C0006'</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p>W końcu możemy ustawić formatowanie warunkowe:</p>
<pre class=" language-py"><code class=" language-py">worksheet<span class="token punctuation">.</span>conditional_format<span class="token punctuation">(</span><span class="token string">"D2:D12"</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">'type'</span><span class="token punctuation">:</span> <span class="token string">'cell'</span><span class="token punctuation">,</span>
                                      <span class="token string">'criteria'</span><span class="token punctuation">:</span><span class="token string">'&gt;='</span><span class="token punctuation">,</span>
                                      <span class="token string">'value'</span><span class="token punctuation">:</span><span class="token number">300</span><span class="token punctuation">,</span>
                                      <span class="token string">'format'</span><span class="token punctuation">:</span>format1<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p>Korzystamy z funkcji <code>conditional_format</code> dostępnej z obiektu <code>worksheet</code>. Na początku wskazujemy zakres komórek, którego ma dotyczyć formatowanie, a następnie wprowadzamy wszystkie parametry formatowania warunkowego.</p>
<p>W środowisku MS Excel mamy możliwość wyboru z wielu wbudowanych rodzajów/schematów formatowania warunkowego. Nas interesuje formatowanie na podstawie porównania do stałej wartości, będziemy bowiem sprawdzać, które komórki mają wartość większą od liczby 300. Z tego powodu parametr <code>type</code> przyjmuje w przykładzie wartość <code>cell</code>. To z kolei implikuje ilość i rodzaj pozostałych parametrów do uzupełnienia.</p>
<p>Dla typu formatowania warunkowego <code>cell</code> możemy doprecyzować: <code>criteria</code>, <code>value</code>, <code>minimum</code>, <code>maximum</code> oraz <code>format</code>.</p>
<p>Po ustawieniu formatowania warunkowego zajmiemy się dodaniem jeszcze jednej funkcjonalności – walidacji danych.</p>
<p>W komórce <code>A16</code> wprowadzimy wartość tekstową o treści <code>“Podaj liczbę całkowitą większą od 0:”</code>.</p>
<pre class=" language-py"><code class=" language-py">worksheet<span class="token punctuation">.</span>write_string<span class="token punctuation">(</span><span class="token string">'A16'</span><span class="token punctuation">,</span><span class="token string">'Podaj liczbę całkowitą większą od 0:'</span><span class="token punctuation">)</span></code></pre>
<p>Jeśli w odpowiedzi dostaniemy wartość 0 – oznaczać to będzie, że wszystko poszło dobrze. Wartość (-1) pojawi się, jeśli wprowadzony zakres wykracza poza obszar arkusza, a (-2) będzie oznaczać, że wartość tekstowa została skrócona do 32 tysięcy znaków.</p>
<p>W komórce obok, tj. <code>B16</code>, wprowadzimy teraz zasadę walidującą, zezwalającą na wprowadzanie do niej wyłącznie liczb całkowitych większych od 0.</p>
<pre class=" language-py"><code class=" language-py">worksheet<span class="token punctuation">.</span>data_validation<span class="token punctuation">(</span><span class="token string">'B16'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token string">'validate'</span><span class="token punctuation">:</span><span class="token string">'integer'</span><span class="token punctuation">,</span>
    <span class="token string">'criteria'</span><span class="token punctuation">:</span><span class="token string">'&gt;'</span><span class="token punctuation">,</span>
    <span class="token string">'value'</span><span class="token punctuation">:</span><span class="token number">0</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p>Poza testowaniem czy wprowadzana wartość jest liczbą całkowitą, możemy wykorzystać również inne opcje:</p>
<ul>
<li><code>decimal</code>: ogranicza wartość komórki do liczb rzeczywistych.</li>
<li><code>list</code>: ogranicza wartość komórki do listy wybranej przez użytkownika. Lista może być wprowadzona w postaci listy znanej z Pythona lub odniesienia do komórek w arkuszu.</li>
<li><code>date</code>: ogranicza wartość komórki do poprawnie wprowadzonych dat.</li>
<li><code>time</code>: ogranicza wartość komórki do obiektów <code>datetime</code>.</li>
<li><code>length</code>: wyznacza górną granicę długości ciągu tekstowego.</li>
<li><code>custom</code>: ogranicza możliwe wartości do tych, które spełniają wskazany warunek logiczny.</li>
</ul>
<p>Ponieważ wcześniej wprowadziliśmy do komórki <code>A16</code> długi ciąg znaków, dobrym pomysłem będzie rozszerzenie kolumny A, tak aby wartości w niej zawarte na pewno były widoczne dla użytkownika.</p>
<pre class=" language-py"><code class=" language-py">worksheet<span class="token punctuation">.</span>set_column<span class="token punctuation">(</span><span class="token string">'A:A'</span><span class="token punctuation">,</span><span class="token number">35</span><span class="token punctuation">)</span></code></pre>
<p>Na koniec zapisujemy i zamykamy plik.</p>
<pre class=" language-py"><code class=" language-py">writer<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>
workbook<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Efekt naszej pracy wygląda następująco:</p>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-84.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-84.png" alt="image" style="width: auto;"></a>
<p>Na pierwszy rzut oka widać, że formatowanie warunkowe działa tak, jak powinno. Podświetlane na czerwono są wszystkie wartości większe lub równe 300. Kolumna A jest odpowiednio rozszerzona. Pozostaje sprawdzić, czy komórka <code>B16</code> przyjmuje wartości inne niż sprecyzowane w warunkach walidacji.</p>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-85.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-85.png" alt="image" style="width: auto;"></a>
<p>Jak widać, próba wprowadzenia wartości niezgodnej ze specyfikacją owocuje pojawieniem się blokady oraz odpowiedniej informacji ze strony MS Excel.</p>
<h3 id="22-praca-z-arkuszami-microsoft-excel-tabele-html">Tabele HTML</h3>
<p>Dzięki funkcji <code>read_html</code> możemy w większości przypadków szybko wprowadzać dane znalezione w internecie do obiektu DataFrame.</p>
<p>Na stronie <a href="https://pl.wikipedia.org/wiki/Miasta_w_Polsce" target="_blank">Miasta w Polsce</a> widzimy dwie tabele zestawiające największe miejscowości pod kątem liczby ludności oraz powierzchni. Spróbujemy wykorzystać funkcję <code>read_html</code>, aby wczytać je do naszego projektu.</p>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-86.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-86.png" alt="image" style="width: auto;"></a>
<p>Skopiujmy link do witryny zawierającej docelowe tabele i wklejmy go jako pierwszy argument funkcji.</p>
<pre class=" language-py"><code class=" language-py">data <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_html<span class="token punctuation">(</span><span class="token string">'https://pl.wikipedia.org/wiki/Miasta_w_Polsce'</span><span class="token punctuation">,</span> header<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span></code></pre>
<p>Na razie nie mamy jeszcze obiektu DataFrame. Jeśli odpytamy zmienną <code>data</code> o jej typ, dostaniemy informację, że mamy do czynienia z listą:</p>
<pre class=" language-py"><code class=" language-py"><span class="token builtin">type</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-87.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-87.png" alt="image" style="width: auto;"></a>
<p>Wywołując funkcję <code>read_html</code>, Pandas pobrał zawartość strony kryjącą się pod wskazanym przez nas adresem i wyciągnął z niej wszystkie tabele oznaczone tagiem <code>table</code>.</p>
<p>Jeśli zatem wywołamy pierwszy element listy:</p>
<pre class=" language-py"><code class=" language-py">data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-88.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-88.png" alt="image" style="width: auto;"></a>
<p>Otrzymamy tabelę z największymi polskimi miastami pod kątem liczby ludności.</p>
<p>Teraz wywołamy drugi element listy:</p>
<pre class=" language-py"><code class=" language-py">data<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-89.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-89.png" alt="image" style="width: auto;"></a>
<p>Zobaczymy w ten sposób tabelę z największymi polskimi miastami pod kątem powierzchni.</p>

                        </div>
                    </div>
                                        <div class="card-block task-card">
                        <h3 id="22-praca-z-arkuszami-microsoft-excel-zadanie-albumy-wszechczasow">Zadanie: <span class="task-title">albumy wszechczasów</span></h3>
                        <div class="task-content">
                            <p>Na koniec tej części modułu przećwiczymy nowo poznane umiejętności na bazie najlepiej sprzedających się albumów wszechczasów. Wykonaj polecenia oraz odpowiedz na pytania zamieszczone poniżej, a rozwiązania wyślij Mentorowi.</p>
<p>Wczytaj do Pandas <a href="https://www.officialcharts.com/chart-news/the-best-selling-albums-of-all-time-on-the-official-uk-chart__15551/" target="_blank">bazę najlepiej sprzedających się albumów wszechczasów</a>.</p>
<ol>
<li>Zamień nagłówki kolumn na polskie odpowiedniki: [<code>'TYTUŁ'</code>,<code>'ARTYSTA'</code>,<code>'ROK'</code>,<code>'MAX POZ'</code>]</li>
<li>Ilu pojedynczych artystów znajduje się na liście?</li>
<li>Które zespoły pojawiają się najczęściej na liście?</li>
<li>Zmień nagłówki kolumn, tak aby każdy z nich rozpoczynał się od wielkiej litery, a pozostałe były wprowadzone małymi literami.</li>
<li>Wyrzuć z tabeli kolumnę <code>‘Max Poz’</code>.</li>
<li>W którym roku wyszło najwięcej albumów znajdujących się na liście?</li>
<li>Ile albumów wydanych między 1960 a 1990 rokiem włącznie znajduje się na liście?</li>
<li>W którym roku wydany został najmłodszy album na liście?</li>
<li>Przygotuj listę najwcześniej wydanych albumów każdego artysty, który znalazł się na liście.</li>
<li>Listę zapisz do pliku <code>csv</code>.</li>
</ol>

                        </div>
                    </div>
                                        <div class="card-block submodule-footer clearfix ">
                                                <div class="clearfix">
                                                                                <a href="https://kodilla.com/pl/bootcamp-task/704/728518" target="_blank" class="btn btn-info-outline">Podgląd zadania</a>
                            <form target="_blank" class="form-inline project-link-form">
                                <div class="form-group">
                                    <input type="text" name="link" class="form-control" value="">
                                </div>
                                <button type="submit" class="btn  btn-success-outline ">Wyślij link <i class="fa fa-check"></i></button>
                            </form>
                                                                                                    </div>
                    </div>
                </section>
                                    
                <section id="submodule-1788" class="card submodule " data-bootcamp-user-submodule-id="728519">
                <!-- klasy dla section: completed current comments -->
                    <div class="card-block submodule-header clearfix">
                        <i class="fa fa-check-circle-o fa-2x"></i>
                        <i class="fa fa-play-circle-o fa-2x"></i>
                        <i class="fa fa-exclamation-circle fa-2x"></i>
                        <i class="fa fa-send-o fa-2x"></i>
                        <h2 class="bootcamp-submodule-name">2.3. <span>Wizualizacja danych z Matplotlib</span></h2>
                                            </div>
                    <div class="card-block">
                        <div class="submodule-content">
                            <p>Po zapoznaniu się z podstawowymi technikami analizy danych przyszedł moment, w którym dowiemy się, w jaki sposób możemy te dane wizualizować.</p>
<p>Podstawowym narzędziem, z jakiego będziemy korzystać, jest biblioteka Matplotlib. Jest to niezbędne narzędzie w orężu analityka, które umożliwia bardzo szybkie i proste tworzenie wykresów w celu lepszego zrozumieniu zjawiska, z jakim mamy do czynienia.</p>
<p>W dalszej części kursu poznamy możliwości biblioteki Plotly, która lepiej nadaje się do tworzenia interaktywnych wizualizacji i dashboardów.</p>
<p>Instalacji biblioteki poprzez <code>anaconda</code> lub <code>pip</code> możemy dokonać, używając następujących komend:</p>
<pre class=" language-py"><code class=" language-py">conda install matplotlib

pip install matplotlib</code></pre>
<div class="bc-note alert-success">
<h4 class="alert-heading text-center">Dwa podejścia do pracy z Matplotlib</h4>
<p>Istnieją dwa podejścia do tworzenia wizualizacji z wykorzystaniem Matplotlib: jednym z nich jest podejście funkcyjne, a drugim podejście obiektowe. W trakcie szkolenia pokażemy oba sposoby i chociaż w dokumentacji częściej możemy spotkać się z podejściem obiektowym, to w praktyce wybór podejścia zależeć będzie od specyfiki sytuacji.</p>
</div>
<h3 id="23-wizualizacja-danych-z-matplotlib-podejscie-funkcyjne">Podejście funkcyjne</h3>
<p>Pod koniec pierwszego modułu mieliśmy już okazję zobaczyć kreślenie wykresu z wykorzystaniem biblioteki Matplotlib. W tamtym przykładzie ze skumulowaną wartością odsetek stworzyliśmy wizualizację w ramach podejścia funkcyjnego. Teraz rozwiniemy sobie zaprezentowane wtedy koncepcje.</p>
<p>Na początek importujemy do projektu bibliotekę <code>numpy</code> oraz <code>matplotlib</code>:</p>
<pre class=" language-py"><code class=" language-py"><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np</code></pre>
<p>Jeśli korzystasz z Jupyter Notebook lokalnie, niezbędne do wyświetlania wykresów w notebooku będzie wprowadzenie komendy:</p>
<pre class=" language-py"><code class=" language-py"><span class="token operator">%</span>matplotlib inline</code></pre>
<p>Powyższe nie dotyczy projektów prowadzonych w środowisku Microsoft Azure.</p>
<p>Następnie wykreujemy dane, na podstawie których będziemy tworzyć wykres.</p>
<pre class=" language-py"><code class=" language-py">x <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>
y <span class="token operator">=</span> x <span class="token operator">**</span> <span class="token number">2</span></code></pre>
<p>W podejściu funkcyjnym wszystko odbywa się bardzo bezpośrednio. Wystarczy, że użyjemy metody <code>plot</code>, a jako argumentów stworzonych wcześniej <code>x</code> oraz <code>y</code>.</p>
<pre class=" language-py"><code class=" language-py">plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span></code></pre>
<p>Jeśli pracujesz w Notebooku, to wystarczy, żeby jako output zobaczyć wykres:</p>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-90.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-90.png" alt="image" style="width: auto;"></a>
<p>Jeśli korzystasz z innego edytora kodu – w linii poniżej wpisz:</p>
<pre class=" language-py"><code class=" language-py">plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>To wystarczyło, żeby stworzyć podstawowy wykres liniowy. Teraz zajmiemy się jego personalizacją.</p>
<pre class=" language-py"><code class=" language-py">plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'red'</span><span class="token punctuation">)</span> <span class="token comment"># zmieniamy kolor poprzedniej linii</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token string">'blue'</span><span class="token punctuation">,</span>ls<span class="token operator">=</span><span class="token string">'dashed'</span><span class="token punctuation">)</span> <span class="token comment"># dodajemy drugą linię na tym samym wykresie</span>
plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">'oś X'</span><span class="token punctuation">)</span> <span class="token comment"># dodajemy opis osi X</span>
plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">'oś Y'</span><span class="token punctuation">)</span> <span class="token comment"># dodajemy opis osi Y</span>
plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'Tytuł wykresu'</span><span class="token punctuation">)</span> <span class="token comment"># dodajemy tytuł wykresu</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-91.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-91.png" alt="image" style="width: auto;"></a>
<p>W stosunku do poprzedniego wykresu zmieniliśmy kilka rzeczy.</p>
<p>Po pierwsze zmieniliśmy kolor linii, dodając parametr <code>color</code> – Matplotlib rozumie nazwy podstawowych kolorów, dlatego mogliśmy wprowadzić wartość <code>red</code>. Docelowy kolor możemy wprowadzać również jako hex string lub jako krotka z kolejnymi wartościami reprezentującymi kolory rgb.</p>
<p>Dodaliśmy drugą linię na tym samym wykresie poprzez ponowne wywołanie funkcji <code>plot</code> – tym razem z innymi wartościami. Zmieniliśmy dodatkowo styl linii z ciągłej na przerywaną, ustawiając parametr <code>ls</code> na wartość <code>dashed</code>.</p>
<p>Oprawiliśmy też nasz wykres w etykiety osi X oraz Y, a także tytuł. W tym celu wykorzystaliśmy odpowiednio funkcje <code>xlabel</code>, <code>ylabel</code> oraz <code>title</code>.</p>
<p>W kolejnym przykładzie pokażemy, w jaki sposób nakreślić wiele linii na różnych zestawach osi.</p>
<p>Pomocna w tej sytuacji będzie funkcja <code>subplot</code>. Dzięki niej możemy stworzyć siatkę niezależnych od siebie zestawów osi na jednym obszarze. Wykorzystamy trzy argumenty tej funkcji, które oznaczać będą odpowiednio: liczbę wierszy, liczbę kolumn, pozycję wykresu, na którym będziemy wykonywać kolejne operacje.</p>
<pre class=" language-py"><code class=" language-py">plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token string">'red'</span><span class="token punctuation">)</span>

plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>y<span class="token punctuation">,</span>x<span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token string">'blue'</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-92.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-92.png" alt="image" style="width: auto;"></a>
<p>Na początku w funkcji <code>subplot</code> precyzujemy, że chodzi nam o jeden wiersz i dwie kolumny zestawów osi. Wartość wprowadzona jako trzeci argument funkcji <code>subplot</code> (<code>1</code>) w pierwszej linii kodu oznacza, że wszystko to, co jest pod nią (aż do momentu wywołania drugi raz funkcji) dotyczy działania na pierwszym zestawie osi.</p>
<p>Od momentu ponownego wywołania <code>subplot</code> (tym razem z wartością 2 jako trzeci argument funkcji) wykonujemy operacje na drugim zestawie osi.</p>
<p>Zanim przejdziemy do obiektowego podejścia do tworzenia wykresów Matplotlib, pokażemy jeszcze przykłady kreślenia wykresu punktowego oraz kołowego.</p>
<p>Chcąc zaprezentować możliwości wykresu punktowego, stwórzmy macierz o kształcie <code>(1000,2)</code> wypełnioną losowymi wartościami.</p>
<pre class=" language-py"><code class=" language-py">rand_arr <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span></code></pre>
<p>Aby zwizualizować te losowe punkty w formie wykresu punktowego, użyjemy funkcji <code>scatter</code>.</p>
<pre class=" language-py"><code class=" language-py">plt<span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>rand_arr<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>rand_arr<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-93.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-93.png" alt="image" style="width: auto;"></a>
<p>W kolejnym kroku spróbujemy zmodyfikować ten wykres. Po pierwsze, będziemy chcieli wyróżnić kolorem czerwonym punkty, które zarówno na osi X oraz osi Y mają wartość większą od liczby 500. Po drugie, zmienimy rozmiar wykresu w taki sposób, aby był jednocześnie większy niż poprzedni i dwa razy dłuższy na osi X w porównaniu do osi Y.</p>
<p>Wyróżnienie poszczególnych punktów polega na wprowadzeniu do funkcji <code>scatter</code> sekwencji, której kolejne elementy określają kolor odpowiadającego im punktu na wykresie.</p>
<p>Ponieważ chcemy wyróżnić punkty, które mają wartość większą od 500 na obu osiach – efektem będzie wykres, którego prawa górna ćwiartka będzie w całości w kolorze czerwonym.</p>
<p>Stwórzmy zatem sekwencję kolorów, wykorzystując umiejętności zdobyte w rozdziale poświęconym NumPy!</p>
<pre class=" language-py"><code class=" language-py">cmap <span class="token operator">=</span> np<span class="token punctuation">.</span>empty<span class="token punctuation">(</span>rand_arr<span class="token punctuation">.</span>shape<span class="token punctuation">,</span>dtype<span class="token operator">=</span><span class="token string">'object'</span><span class="token punctuation">)</span>
cmap<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'blue'</span>
cmap<span class="token punctuation">[</span>rand_arr<span class="token punctuation">.</span><span class="token builtin">min</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">500</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'red'</span></code></pre>
<p>Teraz wystarczy uzupełnić parametr <code>c</code> funkcji <code>scatter</code> o wartość <code>cmap[:,0]</code>.</p>
<pre class=" language-py"><code class=" language-py">plt<span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>rand_arr<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>rand_arr<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>c<span class="token operator">=</span>cmap<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Zanim jednak stworzymy wykres, chcemy odpowiednio zwiększyć jego rozmiar. Możemy to zrobić, wywołując funkcję <code>figure</code> przed <code>scatter</code>.</p>
<pre class=" language-py"><code class=" language-py">plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>rand_arr<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>rand_arr<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>c<span class="token operator">=</span>cmap<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-94.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-94.png" alt="image" style="width: auto;"></a>
<p>Wykres kołowy stworzymy, bazując na wartościach przypisanych do zmiennej <code>pie_data</code> i etykietach dostępnych pod zmienną <code>labels</code>.</p>
<pre class=" language-py"><code class=" language-py">pie_data <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
labels <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span><span class="token string">'B'</span><span class="token punctuation">,</span><span class="token string">'C'</span><span class="token punctuation">,</span><span class="token string">'D'</span><span class="token punctuation">,</span><span class="token string">'E'</span><span class="token punctuation">]</span></code></pre>
<p>Tak skonstruowane dane wejściowe wystarczy umieścić w funkcji <code>pie</code>.</p>
<pre class=" language-py"><code class=" language-py">plt<span class="token punctuation">.</span>pie<span class="token punctuation">(</span>pie_data<span class="token punctuation">,</span>labels<span class="token operator">=</span>labels<span class="token punctuation">,</span>autopct<span class="token operator">=</span><span class="token string">'%1.1f%%'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-95.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-95.png" alt="image" style="width: auto;"></a>
<p>Uzupełniliśmy dodatkowo parametr <code>autopct</code>, aby wykres zawierał udział procentowy każdej pozycji.</p>
<h3 id="23-wizualizacja-danych-z-matplotlib-podejscie-obiektowe">Podejście obiektowe</h3>
<p>Wróćmy do pierwszego wykresu, który tworzyliśmy na początku tej części modułu. Tym razem stworzymy go zgodnie z podejściem obiektowym. Podejście to polega w pierwszej kolejności na tworzeniu obiektów będących poszczególnymi elementami wykresu, a następnie przypisywanie im określonych właściwości, zamiast wykonywania po kolei funkcji dodających kolejne właściwości do wykresu.</p>
<p>W związku z tym każdy wykres będziemy rozpoczynać od zdefiniowania obiektu, który możemy zobrazować sobie jako pusty wykres bez żadnych właściwości. Białe płótno, na które dodajemy kolejne elementy.</p>
<pre class=" language-py"><code class=" language-py">fig <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Obiektem, który będziemy chcieli dodać na płótno, jest para osi. Zrobimy to poprzez wykonanie funkcji <code>add_axes</code> na obiekcie <code>figure</code>.</p>
<pre class=" language-py"><code class=" language-py">fig <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token punctuation">)</span>
axes <span class="token operator">=</span> fig<span class="token punctuation">.</span>add_axes<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># left, bottom, width, height</span></code></pre>
<p>Wartości w liście wprowadzonej do funkcji <code>add_axes</code> oznaczają odpowiednio:</p>
<ul>
<li>W którym miejscu od lewej rozpoczynamy kreślenie osi.</li>
<li>W którym miejscu od spodu rozpoczynamy kreślenie osi.</li>
<li>Jak szeroka ma być oś X.</li>
<li>Jak wysoka ma być oś Y.</li>
</ul>
<p>Wszystkie te wartości muszą mieścić się w przedziale między 0 a 1, ponieważ stanowią ułamek wymiarów płótna, na którym tworzymy wykres.</p>
<p>Obiekt odzwierciedlający osie wykresu jest przypisany do zmiennej <code>axes</code>. Na tym obiekcie możemy wykonywać funkcje parametryzujące jego rodzaj i wygląd.</p>
<pre class=" language-py"><code class=" language-py">fig <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token punctuation">)</span>
axes <span class="token operator">=</span> fig<span class="token punctuation">.</span>add_axes<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># left, bottom, width, height</span>
x <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>
y <span class="token operator">=</span> x <span class="token operator">**</span> <span class="token number">2</span>
axes<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span>
axes<span class="token punctuation">.</span>set_xlabel<span class="token punctuation">(</span><span class="token string">'oś X'</span><span class="token punctuation">)</span>
axes<span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span><span class="token string">'oś Y'</span><span class="token punctuation">)</span>
axes<span class="token punctuation">.</span>set_title<span class="token punctuation">(</span><span class="token string">'Tytuł wykresu'</span><span class="token punctuation">)</span></code></pre>
<p>Reszta procesu powinna na tym etapie być Ci już znajoma. Możesz zauważyć, że w tym przypadku różnią się nazwy funkcji, z których korzystamy do ustawienia etykiet osi X oraz Y, a także tytułu wykresu.</p>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-96.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-96.png" alt="image" style="width: auto;"></a>
<p>Aby mieć pewność, że udało Ci się zrozumieć logikę stojącą za stworzeniem osi poprzedniego wykresu, w przykładzie poniżej stworzymy dwie osie z różnymi pozycjami startowymi oraz inną szerokością i wysokością.</p>
<pre class=" language-py"><code class=" language-py">fig <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token punctuation">)</span>
axes1 <span class="token operator">=</span> fig<span class="token punctuation">.</span>add_axes<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
axes2 <span class="token operator">=</span> fig<span class="token punctuation">.</span>add_axes<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">.2</span><span class="token punctuation">,</span><span class="token number">.2</span><span class="token punctuation">,</span><span class="token number">.8</span><span class="token punctuation">,</span><span class="token number">.8</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-97.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-97.png" alt="image" style="width: auto;"></a>
<p>Większy zestaw osi w tym przykładzie rozpoczyna się w punkcie (0,0) i zajmuje całą szerokość i wysokość płótna (1,1). Mniejszy zestaw osi rozpoczyna się 20% na lewo i 20% od dolnej granicy płótna. Zajmuje też tylko 80% jego szerokości i wysokości, dlatego oba zestawy osi kończą się w tym samym miejscu.</p>
<p>Teraz na obu zestawach osi możemy narysować dwa zupełnie różne wykresy, poprzez dodanie poniższych linii kodu:</p>
<pre class=" language-py"><code class=" language-py">axes1<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span>
axes2<span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>rand_arr<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>rand_arr<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-98.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-98.png" alt="image" style="width: auto;"></a>
<p>Możemy też dalej personalizować ich wygląd:</p>
<pre class=" language-py"><code class=" language-py">axes1<span class="token punctuation">.</span>set_xlabel<span class="token punctuation">(</span><span class="token string">'Exponential'</span><span class="token punctuation">)</span>
axes2<span class="token punctuation">.</span>set_xlabel<span class="token punctuation">(</span><span class="token string">'Random'</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-99.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-99.png" alt="image" style="width: auto;"></a>
<p>Cały program wygląda tak:</p>
<pre class=" language-py"><code class=" language-py">fig <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token punctuation">)</span>
axes1 <span class="token operator">=</span> fig<span class="token punctuation">.</span>add_axes<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
axes2 <span class="token operator">=</span> fig<span class="token punctuation">.</span>add_axes<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">.2</span><span class="token punctuation">,</span><span class="token number">.2</span><span class="token punctuation">,</span><span class="token number">.8</span><span class="token punctuation">,</span><span class="token number">.8</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
axes1<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span>
axes2<span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>rand_arr<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>rand_arr<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
axes1<span class="token punctuation">.</span>set_xlabel<span class="token punctuation">(</span><span class="token string">'Exponential'</span><span class="token punctuation">)</span>
axes2<span class="token punctuation">.</span>set_xlabel<span class="token punctuation">(</span><span class="token string">'Random'</span><span class="token punctuation">)</span></code></pre>
<p>Wcześniej pokazywaliśmy, jak tworzyć niezależne zestawy osi w układzie przypominającym siatkę lub macierz przy podejściu funkcyjnym.</p>
<p>Podejście obiektowe do tego problemu ma wiele zalet w stosunku do rozwiązania w podejściu funkcyjnym, co postaramy się udowodnić na kolejnym przykładzie.</p>
<p>Wykorzystamy funkcję <code>subplots</code>, aby za jednym razem stworzyć obiekt <code>Figure</code> oraz obiekty dla tylu zestawów osi, ile potrzebujemy.</p>
<pre class=" language-py"><code class=" language-py">fig<span class="token punctuation">,</span>axes <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span>nrows<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>ncols<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-100.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-100.png" alt="image" style="width: auto;"></a>
<p>Zmienna <code>axes</code> w tym układzie jest tablicą zawierającą kolejne zestawy osi. Możemy zatem edytować wygląd i zawartość wykresu dla każdego z zestawów, wywołując ich pozycję na liście <code>axes</code>.</p>
<pre class=" language-py"><code class=" language-py">fig<span class="token punctuation">,</span>axes <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span>nrows<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>ncols<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>

axes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span>
axes<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>plot<span class="token punctuation">(</span>y<span class="token punctuation">,</span>x<span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-101.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-101.png" alt="image" style="width: auto;"></a>
<h3 id="23-wizualizacja-danych-z-matplotlib-formatowanie-wygladu-wykresow">Formatowanie wyglądu wykresów</h3>
<p>W tym momencie mamy już opanowany sposób tworzenia wykresów w zgodzie z podejściem funkcyjnym i obiektowym. Z tego powodu więcej czasu będziemy mogli poświęcić na formatowanie i personalizację naszych wizualizacji.</p>
<h5>Legenda</h5>
<p>Na dodaniu do wykresu legendy będzie nam zależało w momencie, kiedy pokazujemy na nim więcej niż jedną serię danych. W Matplotlib dodanie legendy odbywa się w dwóch krokach:</p>
<ul>
<li>Najpierw dodajemy etykietę do każdej serii danych uzupełniając parametr label.</li>
<li>Następnie wywołujemy funkcję <code>legend</code>.</li>
</ul>
<pre class=" language-py"><code class=" language-py">fig <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token punctuation">)</span>
axes <span class="token operator">=</span> fig<span class="token punctuation">.</span>add_axes<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
axes<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>x<span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">,</span>label<span class="token operator">=</span><span class="token string">'x^2'</span><span class="token punctuation">)</span>
axes<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>x<span class="token operator">**</span><span class="token number">3</span><span class="token punctuation">,</span>label<span class="token operator">=</span><span class="token string">'x^3'</span><span class="token punctuation">)</span>

axes<span class="token punctuation">.</span>legend<span class="token punctuation">(</span>loc<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-102.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-102.png" alt="image" style="width: auto;"></a>
<p>Parametr <code>loc</code> może przyjmować szereg różnego rodzaju wartości. W przykładzie powyżej <code>loc=0</code> sprawi, że Matplotlib sam postara się znaleźć najlepsze miejsce do umieszczenia legendy na wykresie. Alternatywnie moglibyśmy użyć komendy <code>loc=’best’</code> i efekt byłby dokładnie ten sam. Matplotlib posiada 11 standardowych pozycji, w których umieści legendę po wprowadzeniu odpowiedniej wartości tekstowej lub liczbowej. Poniżej zestawienie wszystkich standardowych możliwości:</p>
<table>
  <tbody><tr>
   <td>
<strong>Location String</strong>
   </td>
   <td>
<strong>Location Code</strong>
   </td>
  </tr>
  <tr>
   <td>
'best'
   </td>
   <td>
0
   </td>
  </tr>
  <tr>
   <td>
'upper right'
   </td>
   <td>
1
   </td>
  </tr>
  <tr>
   <td>
'upper left'
   </td>
   <td>
2
   </td>
  </tr>
  <tr>
   <td>
'lower left'
   </td>
   <td>
3
   </td>
  </tr>
  <tr>
   <td>
'lower right'
   </td>
   <td>
4
   </td>
  </tr>
  <tr>
   <td>
'right'
   </td>
   <td>
5
   </td>
  </tr>
  <tr>
   <td>
'center left'
   </td>
   <td>
6
   </td>
  </tr>
  <tr>
   <td>
'center right'
   </td>
   <td>
7
   </td>
  </tr>
  <tr>
   <td>
'lower center'
   </td>
   <td>
8
   </td>
  </tr>
  <tr>
   <td>
'upper center'
   </td>
   <td>
9
   </td>
  </tr>
  <tr>
   <td>
'center'
   </td>
   <td>
10
   </td>
  </tr>
</tbody></table>
<p>Parametr <code>loc</code>, jako wartość, przyjmuje również niestandardowe koordynaty pozycji legendy względem osi X oraz Y w postaci krotki.</p>
<p>W ostatniej linii kodu wprowadźmy:</p>
<pre class=" language-py"><code class=" language-py">axes<span class="token punctuation">.</span>legend<span class="token punctuation">(</span>loc<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1.05</span><span class="token punctuation">,</span><span class="token number">0.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>
<p>W takiej sytuacji będziemy w stanie "wyciągnąć" legendę poza obszar wykresu.</p>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-103.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-103.png" alt="image" style="width: auto;"></a>
<h5>Style linii, markery</h5>
<p>Wcześniej pokazywaliśmy, w jaki sposób można zmieniać kolory linii na wykresie. W tej części poznamy więcej możliwości stylowania.</p>
<p>Parametr <code>linewidth</code> umożliwia ustalenie dowolnej szerokości linii na wykresie. Domyślna wartość wynosi 1, więc wszystko, co większe od tej wartości będzie oznaczało proporcjonalnie grubszą linię. Analogicznie wartości mniejsze od 1 będą skutkowały węższą linią na wykresie.</p>
<pre class=" language-py"><code class=" language-py">fig <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token punctuation">)</span>
axes <span class="token operator">=</span> fig<span class="token punctuation">.</span>add_axes<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
axes<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>x<span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">,</span>label<span class="token operator">=</span><span class="token string">'x^2'</span><span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token string">'red'</span><span class="token punctuation">,</span>linewidth<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>
axes<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>x<span class="token operator">**</span><span class="token number">3</span><span class="token punctuation">,</span>label<span class="token operator">=</span><span class="token string">'x^3'</span><span class="token punctuation">,</span>linewidth<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span>alpha<span class="token operator">=</span><span class="token number">0.3</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-104.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-104.png" alt="image" style="width: auto;"></a>
<p>Do niebieskiej linii dodaliśmy również parametr <code>alpha</code>, który pozwala na określenie przezroczystości linii.</p>
<p>Parametru <code>linestyle</code>, jak sama nazwa wskazuje, będziemy używać do modyfikowania stylu linii.</p>
<pre class=" language-py"><code class=" language-py">axes<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>x<span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">,</span>label<span class="token operator">=</span><span class="token string">'x^2'</span><span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token string">'red'</span><span class="token punctuation">,</span>linewidth<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span>linestyle<span class="token operator">=</span><span class="token string">'--'</span><span class="token punctuation">)</span>
axes<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>x<span class="token operator">**</span><span class="token number">3</span><span class="token punctuation">,</span>label<span class="token operator">=</span><span class="token string">'x^3'</span><span class="token punctuation">,</span>linewidth<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span>linestyle<span class="token operator">=</span><span class="token string">'-.'</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-105.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-105.png" alt="image" style="width: auto;"></a>
<p>Styl linii możemy parametryzować wedle uznania. Nie ograniczają nas w tym wyłącznie standardowe propozycje, tak jak w przykładzie powyżej. Ta grafika pokazuje więcej możliwości personalizowania stylu linii:</p>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-106.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-106.png" alt="image" style="width: auto;"></a>
<p>Podobnie jak w przypadku linii, Matplotlib oferuje ogromne możliwości w zakresie stylowania markerów, czyli wizualnej reprezentacji punktów danych na wykresie.</p>
<pre class=" language-py"><code class=" language-py">fig <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token punctuation">)</span>
axes <span class="token operator">=</span> fig<span class="token punctuation">.</span>add_axes<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
axes<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>x<span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">,</span>label<span class="token operator">=</span><span class="token string">'x^2'</span><span class="token punctuation">,</span>
          color<span class="token operator">=</span><span class="token string">'red'</span><span class="token punctuation">,</span>
          linewidth<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span>
          marker<span class="token operator">=</span><span class="token string">'o'</span><span class="token punctuation">,</span>
          markersize<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">,</span>
          markerfacecolor<span class="token operator">=</span><span class="token string">'orange'</span><span class="token punctuation">,</span>
          markeredgewidth<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>
axes<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>x<span class="token operator">**</span><span class="token number">3</span><span class="token punctuation">,</span>label<span class="token operator">=</span><span class="token string">'x^3'</span><span class="token punctuation">,</span>linewidth<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span>
          marker<span class="token operator">=</span><span class="token string">'*'</span><span class="token punctuation">,</span>
          markersize<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-107.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-107.png" alt="image" style="width: auto;"></a>
<p>W przykładzie użyliśmy czterech rodzajów parametrów służących do personalizacji markerów: <code>marker</code>, <code>markersize</code>, <code>markerfacecolor</code>, <code>markeredgewidth</code>.</p>
<p>Pierwszy z nich tj. <code>marker</code> posłuży nam do ustalenia rodzaju markera. Wprowadziliśmy wartość <code>*</code>, aby uzyskać gwiazdki widoczne na pierwszym wykresie oraz <code>o</code>, aby otrzymać z powrotem koła. Więcej dostępnych opcji znaleźć można w <a href="https://matplotlib.org/3.2.1/api/markers_api.html" target="_blank">dokumentacji</a>.</p>
<p>Wielkość określa <code>markersize</code>, <code>markerfacecolor</code> pozwala sterować kolorem, a <code>markeredgewidth</code> ustala, jaką szerokość ma przyjąć jego obramowanie.</p>
<h5>Personalizacja osi</h5>
<p>Podsumujmy teraz to, czego dowiedzieliśmy się o działaniu Matplotlib. Wiemy, że wykres budujemy, składając w całość poszczególne obiekty. I tak do obiektu Figure możemy przypisać wiele obiektów Axes, a na każdy z nich będą składać się kolejne coraz to mniejsze obiekty składowe, jak na przykład <code>xaxis</code> oraz <code>yaxis</code>.</p>
<p>Na osie składają się z kolei jeszcze mniejsze elementy. Jednym z tych elementów są znaczniki. Matplotlib dzieli je na główne i drugorzędne (major ticks &amp; minor ticks). Ten drugi rodzaj najczęściej można zaobserwować w przypadku wykresów o skali logarytmicznej.</p>
<p>Jedną z podstawowych operacji na znacznikach osi jest usuwanie ich z wykresu. Matplotlib umożliwia usunięcie osobno etykiet znaczników osi, jak i samych znaczników.</p>
<pre class=" language-py"><code class=" language-py">fig <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token punctuation">)</span>
axes <span class="token operator">=</span> fig<span class="token punctuation">.</span>add_axes<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

axes<span class="token punctuation">.</span>yaxis<span class="token punctuation">.</span>set_major_locator<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>NullLocator<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
axes<span class="token punctuation">.</span>xaxis<span class="token punctuation">.</span>set_major_formatter<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>NullFormatter<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

axes<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>x<span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">,</span>label<span class="token operator">=</span><span class="token string">'x^2'</span><span class="token punctuation">)</span>
axes<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>x<span class="token operator">**</span><span class="token number">3</span><span class="token punctuation">,</span>label<span class="token operator">=</span><span class="token string">'x^3'</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-108.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-108.png" alt="image" style="width: auto;"></a>
<p>Zwróćmy uwagę, że użyliśmy dwóch różnych operacji, aby usunąć znaczniki oraz etykiety znaczników osi Y, a także usunąć wyłącznie etykiety znaczników osi X.</p>
<p>Korzystając z funkcji <code>MaxNLocator</code>, możemy rozwiązać często spotykany problem nachodzenia się na siebie etykiet znaczników, poprzez ustalenie ich maksymalnej liczby widocznej na wykresie.</p>
<pre class=" language-py"><code class=" language-py">fig <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token punctuation">)</span>
axes <span class="token operator">=</span> fig<span class="token punctuation">.</span>add_axes<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

axes<span class="token punctuation">.</span>bar<span class="token punctuation">(</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token operator">*</span>n <span class="token keyword">for</span> n <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-109.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-109.png" alt="image" style="width: auto;"></a>
<p>W tym momencie etykiety znaczników osi X nachodzą na siebie, na czym cierpi czytelność samego wykresu. Możemy to zmienić, korzystając z <code>MaxNLocator</code>. Wystarczy, że uzupełnimy wykres o jedną linię kodu:</p>
<pre class=" language-py"><code class=" language-py">axes<span class="token punctuation">.</span>xaxis<span class="token punctuation">.</span>set_major_locator<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>MaxNLocator<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-110.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-110.png" alt="image" style="width: auto;"></a>
<p>Zwróć uwagę, że ustaliliśmy maksymalną wartość znaczników na osi X, co powoduje, że jest ona dużo bardziej czytelna niż poprzednio.</p>
<p>Na koniec zajmiemy się formatowaniem samych etykiet znaczników osi. Weźmy następujący przykład:</p>
<pre class=" language-py"><code class=" language-py">fig<span class="token punctuation">,</span> ax <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span><span class="token punctuation">)</span>

years <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'2017'</span><span class="token punctuation">,</span><span class="token string">'2018'</span><span class="token punctuation">,</span><span class="token string">'2019'</span><span class="token punctuation">,</span><span class="token string">'2020F'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
revenues <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1.5e5</span><span class="token punctuation">,</span> <span class="token number">2.5e6</span><span class="token punctuation">,</span> <span class="token number">5.5e6</span><span class="token punctuation">,</span> <span class="token number">2.0e7</span><span class="token punctuation">]</span>

ax<span class="token punctuation">.</span>bar<span class="token punctuation">(</span>years<span class="token punctuation">,</span> revenues<span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-111.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-111.png" alt="image" style="width: auto;"></a>
<p>Wykres przedstawia przychody pewnego przedsiębiorstwa w latach 2017-2019 oraz prognozę przychodów na rok 2020. Na pierwszy rzut oka nie pasuje nam tu do końca wygląd osi Y – etykiety są wyświetlane w formacie naukowym. Postaramy się to zmienić, korzystając ze stworzonej przez nas funkcji.</p>
<p>Funkcja, którą musimy skonstruować, będzie jako argument brała każdą wartość etykiety osi Y i na tej podstawie zwróci sformatowany według naszego uznania string.</p>
<pre class=" language-py"><code class=" language-py"><span class="token keyword">def</span> <span class="token function">million</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> pos<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'PLN {:2.1f}M'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>x<span class="token operator">*</span><span class="token number">1e</span><span class="token operator">-</span><span class="token number">6</span><span class="token punctuation">)</span></code></pre>
<p>W tej funkcji X dotyczy każdej kolejnej etykiety osi Y, a argument <code>pos</code> stanowi jej pozycję. Nie wykorzystujemy tego argumentu jednak w samej funkcji. Jest on tylko potrzebny Matplotlib do przekształcenia osi.</p>
<p>Funkcję <code>milion</code> umieścimy następnie w metodzie o nazwie <code>set_major_formatter</code>, dostępnej na obiekcie <code>yaxis</code>.</p>
<pre class=" language-py"><code class=" language-py">fig<span class="token punctuation">,</span> ax <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span><span class="token punctuation">)</span>

years <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'2017'</span><span class="token punctuation">,</span><span class="token string">'2018'</span><span class="token punctuation">,</span><span class="token string">'2019'</span><span class="token punctuation">,</span><span class="token string">'2020F'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
money <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1.5e5</span><span class="token punctuation">,</span> <span class="token number">2.5e6</span><span class="token punctuation">,</span> <span class="token number">5.5e6</span><span class="token punctuation">,</span> <span class="token number">2.0e7</span><span class="token punctuation">]</span>

formatter <span class="token operator">=</span> plt<span class="token punctuation">.</span>FuncFormatter<span class="token punctuation">(</span>million<span class="token punctuation">)</span>

ax<span class="token punctuation">.</span>yaxis<span class="token punctuation">.</span>set_major_formatter<span class="token punctuation">(</span>formatter<span class="token punctuation">)</span>
ax<span class="token punctuation">.</span>bar<span class="token punctuation">(</span>years<span class="token punctuation">,</span> money<span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-112.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-112.png" alt="image" style="width: auto;"></a>
<p>Jak widać, sformatowaliśmy etykiety znaczników osi Y, wedle naszej potrzeby. Kolejną rzeczą, jaką chcemy zmienić, jest częstotliwość pojawiania się ich na osi. Dzięki funkcji <code>MultipleLocator</code> możemy ustalić odstępy, na podstawie których będą wyświetlać się kolejne etykiety.</p>
<pre class=" language-py"><code class=" language-py">fig<span class="token punctuation">,</span> ax <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span><span class="token punctuation">)</span>

years <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'2017'</span><span class="token punctuation">,</span><span class="token string">'2018'</span><span class="token punctuation">,</span><span class="token string">'2019'</span><span class="token punctuation">,</span><span class="token string">'2020F'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
money <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1.5e5</span><span class="token punctuation">,</span> <span class="token number">2.5e6</span><span class="token punctuation">,</span> <span class="token number">5.5e6</span><span class="token punctuation">,</span> <span class="token number">2.0e7</span><span class="token punctuation">]</span>

formatter <span class="token operator">=</span> plt<span class="token punctuation">.</span>FuncFormatter<span class="token punctuation">(</span>million<span class="token punctuation">)</span>

ax<span class="token punctuation">.</span>yaxis<span class="token punctuation">.</span>set_major_formatter<span class="token punctuation">(</span>formatter<span class="token punctuation">)</span>
ax<span class="token punctuation">.</span>yaxis<span class="token punctuation">.</span>set_major_locator<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>MultipleLocator<span class="token punctuation">(</span><span class="token number">5e6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

ax<span class="token punctuation">.</span>bar<span class="token punctuation">(</span>years<span class="token punctuation">,</span> money<span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-113.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-113.png" alt="image" style="width: auto;"></a>
<p>Na koniec pokażemy, w jaki sposób można teraz zawęzić wykres według osi Y, tak aby lepiej przyjrzeć się trzem pierwszym słupkom. W tym celu wykorzystamy funkcję <code>set_ylim</code>.</p>
<pre class=" language-py"><code class=" language-py">fig<span class="token punctuation">,</span> ax <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span><span class="token punctuation">)</span>

years <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'2017'</span><span class="token punctuation">,</span><span class="token string">'2018'</span><span class="token punctuation">,</span><span class="token string">'2019'</span><span class="token punctuation">,</span><span class="token string">'2020F'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
money <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1.5e5</span><span class="token punctuation">,</span> <span class="token number">2.5e6</span><span class="token punctuation">,</span> <span class="token number">5.5e6</span><span class="token punctuation">,</span> <span class="token number">2.0e7</span><span class="token punctuation">]</span>

formatter <span class="token operator">=</span> plt<span class="token punctuation">.</span>FuncFormatter<span class="token punctuation">(</span>million<span class="token punctuation">)</span>

ax<span class="token punctuation">.</span>yaxis<span class="token punctuation">.</span>set_major_formatter<span class="token punctuation">(</span>formatter<span class="token punctuation">)</span>
ax<span class="token punctuation">.</span>yaxis<span class="token punctuation">.</span>set_major_locator<span class="token punctuation">(</span>plt<span class="token punctuation">.</span>MultipleLocator<span class="token punctuation">(</span><span class="token number">5e6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

ax<span class="token punctuation">.</span>set_ylim<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">8e6</span><span class="token punctuation">)</span>

ax<span class="token punctuation">.</span>bar<span class="token punctuation">(</span>years<span class="token punctuation">,</span> money<span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-114.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-114.png" alt="image" style="width: auto;"></a>
<h3 id="23-wizualizacja-danych-z-matplotlib-wbudowana-wizualizacja-danych-w-pandas">Wbudowana wizualizacja danych w Pandas</h3>
<p>Biblioteka Pandas zawiera w sobie wbudowane metody służące wizualizacji danych bezpośrednio z wartości zawartych w obiekcie DataFrame. Funkcjonalność ta jest oparta na Matplotlib, więc zastosowanie mają wszystkie rzeczy, których dowiedzieliśmy się na temat wizualizacji w tym rozdziale.</p>
<p>Stwórzmy nowy obiekt DataFrame:</p>
<pre class=" language-py"><code class=" language-py"><span class="token keyword">import</span> datetime <span class="token keyword">as</span> dt
df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'A'</span><span class="token punctuation">:</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                 <span class="token string">'B'</span><span class="token punctuation">:</span><span class="token punctuation">[</span>dt<span class="token punctuation">.</span>datetime<span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span>dt<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>days<span class="token operator">=</span>x<span class="token punctuation">)</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                  <span class="token string">'C'</span><span class="token punctuation">:</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">201</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p>Nie opuszczając Pandas, możemy teraz stworzyć histogram dla wartości zawartych w kolumnie <code>A</code>. Wystarczy, że wywołamy na tej kolumnie funkcję <code>hist</code>, gdzie w parametrze <code>bins</code> definiujemy ilość przedziałów w histogramie.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>hist<span class="token punctuation">(</span>bins<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-115.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-115.png" alt="image" style="width: auto;"></a>
<p>Wykres na podstawie kolumny możemy wywołać na kilka sposobów. Oprócz tego zaprezentowanego w przykładzie powyżej możemy najpierw wywołać funkcję <code>plot</code>, a jako jej argument podać nazwę wykresu, który nas interesuje.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>plot<span class="token punctuation">(</span>kind<span class="token operator">=</span><span class="token string">'hist'</span><span class="token punctuation">,</span>bins<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-116.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-116.png" alt="image" style="width: auto;"></a>
<p>W ten sam sposób możemy stworzyć wykres kolumnowy. Wystarczy, że jako argument <code>kind</code> wprowadzimy wartość <code>bar</code>.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">[</span><span class="token string">'C'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">.</span>plot<span class="token punctuation">(</span>kind<span class="token operator">=</span><span class="token string">'bar'</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-117.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-117.png" alt="image" style="width: auto;"></a>
<p>Możemy również wywołać funkcję rysującą konkretny rodzaj wykresu w taki sposób, jaki kojarzymy z Matplotlib.</p>
<pre class=" language-py"><code class=" language-py">df<span class="token punctuation">.</span>plot<span class="token punctuation">.</span>line<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">'B'</span><span class="token punctuation">,</span>y<span class="token operator">=</span><span class="token string">'A'</span><span class="token punctuation">,</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token string">'red'</span><span class="token punctuation">,</span>lw<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span></code></pre>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-118.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-118.png" alt="image" style="width: auto;"></a>

                        </div>
                    </div>
                                        <div class="card-block task-card">
                        <h3 id="23-wizualizacja-danych-z-matplotlib-zadanie-baza-filmow">Zadanie: <span class="task-title">baza filmów</span></h3>
                        <div class="task-content">
                            <p>Do wykonania zadań niezbędne będzie pobranie bazy filmów oraz bazy gatunków:</p>
<ul>
<li>
<p><a href="https://uploads.kodilla.com/bootcamp/pro-data-visualization/files/tmdb_movies.csv" target="_blank">Baza filmów</a></p>
</li>
<li>
<p><a href="https://uploads.kodilla.com/bootcamp/pro-data-visualization/files/tmdb_genres.csv" target="_blank">Baza gatunków</a></p>
</li>
</ul>
<ol>
<li>
<p>Zwróć listę 10 najwyżej ocenianych filmów (<code>vote_average</code>), których liczba głosów (<code>vote_count</code>) jest większa od 3. kwartyla rozkładu liczby głosów.</p>
</li>
<li>
<p>Pogrupuj tabelę w taki sposób, aby otrzymać średni przychód (<code>revenue</code>) oraz średni budżet (<code>budget</code>) w danym roku dla filmów opublikowanych od 2010 (włącznie) do 2016 roku (włącznie). Następnie na tej podstawie stwórz wykres, w którym średnie przychody są wykresem kolumnowym, a średni budżet wykresem liniowym na tych samych osiach. Sformatuj odpowiednio oś X oraz oś Y. Dodaj tytuł wykresu, oraz legendę, która znajduje się w prawym górnym rogu płótna, lecz poza obszarem osi. Przykład wykresu widoczny poniżej:</p>
<a href="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-119.png" class="img-modal-group"><img src="./Moduł_ 2. Pandas i Matplotlib_files/pro-data-vis-02-119.png" alt="image" style="width: auto;"></a>
</li>
<li>
<p>Baza filmów zawiera kolumnę z id gatunku (<code>genre_id</code>). Na tej podstawie połącz ze sobą bazę filmów z bazą gatunków, tak aby w bazie filmów można było odczytać nazwę gatunku filmu.</p>
</li>
<li>
<p>Jaki gatunek filmu z bazy pojawia się w niej najczęściej? Ile filmów tego gatunku znajduje się w bazie?</p>
</li>
<li>
<p>Filmy, którego gatunku trwają średnio najdłużej (<code>runtime</code>)?</p>
</li>
<li>
<p>Stwórz histogram czasu trwania filmów z gatunku, który cechuje się największym średnim czasem trwania.</p>
</li>
</ol>

                        </div>
                    </div>
                                        <div class="card-block submodule-footer clearfix ">
                                                <div class="clearfix">
                                                                                <a href="https://kodilla.com/pl/bootcamp-task/704/728519" target="_blank" class="btn btn-info-outline">Podgląd zadania</a>
                            <form target="_blank" class="form-inline project-link-form">
                                <div class="form-group">
                                    <input type="text" name="link" class="form-control" value="">
                                </div>
                                <button type="submit" class="btn  btn-success-outline ">Wyślij link <i class="fa fa-check"></i></button>
                            </form>
                                                                                                    </div>
                    </div>
                </section>
                            </main>
        </div>
    </section>
</main>
;
<script async="" src="./Moduł_ 2. Pandas i Matplotlib_files/ei.js"></script>
<script type="text/x-translation" data-translation-name="SentBootcampLinkReviewFormMessage">Wysłano link do zatwierdzenia</script>
    <div id="alerts">
    <div class="alert alert-danger" role="alert" style="display: none;">
        <i class="fa fa-exclamation" aria-hidden="true"></i>
        <button type="button" class="close" data-hide="alert" aria-label="Zamknij">
            <span aria-hidden="true">×</span>
            <span class="sr-only">Zamknij</span>
        </button>
        <ul>
                        </ul>
    </div>
    <div class="alert alert-success" role="alert" style="display: none;">
        <i class="fa fa-check" aria-hidden="true"></i>
        <button type="button" class="close" data-hide="alert" aria-label="Zamknij">
            <span aria-hidden="true">×</span>
            <span class="sr-only">Zamknij</span>
        </button>
        <ul>
                </ul>
    </div>
    <div class="alert alert-warning" role="alert" style="display: none;">
        <i class="fa fa-warning" aria-hidden="true"></i>
        <button type="button" class="close" data-hide="alert" aria-label="Zamknij">
            <span aria-hidden="true">×</span>
            <span class="sr-only">Zamknij</span>
        </button>
        <ul>
                </ul>
    </div>
    <div class="alert alert-info" role="alert" style="display: none;">
        <i class="fa fa-info" aria-hidden="true"></i>
        <button type="button" class="close" data-hide="alert" aria-label="Zamknij">
            <span aria-hidden="true">×</span>
            <span class="sr-only">Zamknij</span>
        </button>
        <ul>
                    </ul>
    </div>
    <div class="container">
        <div class="alert alert-notify" role="alert" style="display: none;">
            <i class="fa fa-info" aria-hidden="true"></i>
            <button type="button" class="close" data-hide="alert" aria-label="Zamknij">
                <span aria-hidden="true">×</span>
                <span class="sr-only">Zamknij</span>
            </button>
            <ul>
                            </ul>
        </div>
    </div>
</div>
    <div class="modal fade informator-modal" id="informator" tabindex="-1" role="dialog" aria-labelledby="informatorModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <img src="./Moduł_ 2. Pandas i Matplotlib_files/logo-menu.png" alt="Logo Kodilla" class="brand-logo">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i class="fa fa-times" aria-hidden="true"></i>
                </button>
            </div>
            <div class="modal-body content-container">
                <h3>Zamów szczegółowy informator</h3>
                <form class="row js-ajax-form" data-view-class="InformatorForm" action="https://kodilla.com/pl/download-informator" method="post">
                    <input type="hidden" name="ga-pobieranie-informatora-z-modala" value="wypelnienie">
                    <input type="hidden" name="tags[0]" value="informator">
                                        <div class="user-data-container">
                        <input type="text" class="form-control" name="firstname" placeholder="Imię">
                        <input type="text" class="form-control" name="surname" placeholder="Nazwisko">
                    </div>
                    <div class="user-data-container">
                        <input type="email" class="form-control" name="email" placeholder="Email" required="">
                        <input type="tel" class="form-control" name="phone" placeholder="Numer telefonu" pattern="^([\+][0-9]{1,3}([ \.\-])?)?([\(]{1}[0-9]{3}[\)])?([0-9 \.\-]{1,15})$" title="Wpisz poprawny numer telefonu, np. 453 674 897" minlength="9" maxlength="15" data-custom-message="Wpisz poprawny numer telefonu, np. 453 674 897">
                    </div>
                    <div class="terms-box">
                        <label>
                            <input name="accept_terms" value="true" data-custom-message="Prosimy o zaakceptowanie regulaminu" type="checkbox" class="form-control input-checkbox" required="">
                            <span>Akceptuję <a target="_blank" href="https://kodilla.com/pl/regulamin">regulamin</a>  i nie wnoszę zastrzeżeń</span>
                        </label>
                    </div>
                    <div class="personal-terms-box">
                        <label>
                            <input name="accept_marketing" value="true" data-custom-message="Jeśli chcesz otrzymać dostęp do materiałów, konieczna jest akceptacja obydwu zgód" type="checkbox" class="form-control input-checkbox" required="">
                            <span>Chcę otrzymywać newsletter, informacje o promocjach i produktach dostępnych w Kodilla.
                                <span class="details-button" data-action="show-details" data-identifier="personal-terms-details-informator">Czytaj więcej</span>
                                <span class="display-none" data-identifier="personal-terms-details-informator">Wyrażam zgodę na otrzymywanie informacji handlowych od Kodilla na podany przeze mnie adres e-mail. Zgoda jest dobrowolna, jednakże niezbędna do otrzymywania informacji o produktach, promocjach i o tym, co u nas słychać. Administratorem danych jest Codemy S.A. z siedzibą we Wrocławiu, Plac Powstańców Śląskich 13/4. Mam prawo cofnąć zgodę w każdym czasie, jednak wtedy nie będę otrzymywać informacji. Dane mogą być przetwarzane pomimo cofnięcia zgody wyłącznie w takim zakresie i celu, w jakim ich przetwarzanie jest niezbędne do ustalenia, dochodzenia lub obrony roszczeń Administratora w związku z udzieloną zgodą. Mam prawo dostępu do danych, sprostowania, usunięcia, ograniczenia przetwarzania, prawo wniesienia sprzeciwu, skargi do organu nadzorczego i przeniesienia danych. Szczegółowe informacje znajdują się na stronie kodilla.com, zakładka "Polityka Prywatności".</span>
                            </span>
                        </label>
                    </div>
                    <div class="display-none">
                        <input type="text" name="myName" value="">
                    </div>
                    <div class="">
                        <button type="submit" class="btn btn-primary">
                            Pobierz Informator
                            <i data-role="loading-icon" class="fa fa-spinner fa-spin fa-1x fa-fw display-none"></i>
                        </button>
                    </div>
                </form>
                <a href="https://kodilla.com/pl/informator" id="informator-link" target="_blank" class="display-none"></a>
            </div>
            <div class="modal-footer">
                <p>Pobranie informatora do niczego nie zobowiązuje</p>
            </div>
        </div>
    </div>
</div>
<footer class="site-footer">
                <section class="footer-lower">
            <nav class="container">
                <a class="navbar-img" href="https://kodilla.com/pl">
                    <svg id="kodilla-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 168 29.553" width="168" height="30">
                        <defs>
                            <style>
                                .footer-logo-fill {
                                    fill: #fff;
                                }
                            </style>
                        </defs>
                        <g id="Group_1" data-name="Group 1" transform="translate(23.59)">
                            <path id="KODILLA_copy_5_1_" class="footer-logo-fill" d="M78.058,0a14.758,14.758,0,1,0,.075,0Zm0,23.739a8.939,8.939,0,0,1-8.944-8.907V14.8c0-4.957,4.584-.708,8.907-.708,4.919,0,9.019-4.211,9.019.708a8.978,8.978,0,0,1-8.981,8.944Z" transform="translate(-63.3)"></path>
                            <ellipse id="eye_copy_4_1_" class="footer-logo-fill" cx="3.876" cy="3.876" rx="3.876" ry="3.876" transform="translate(9.462 13.2) rotate(-28.436)"></ellipse>
                        </g>
                        <path id="Path_1" data-name="Path 1" class="footer-logo-fill" d="M0,29.819V.9H6.671V13.347L17.255.9h7.491L13.938,13.794,25.491,29.819h-7.6l-8.2-11.665-3.019,3.13v8.5H0Z" transform="translate(0 -0.565)"></path>
                        <path id="Path_2" data-name="Path 2" class="footer-logo-fill" d="M151.4,29.819V.9h10.807a15.515,15.515,0,0,1,6.261,1.155,12.966,12.966,0,0,1,4.509,3.093A12.918,12.918,0,0,1,175.7,9.732a17.245,17.245,0,0,1,.932,5.59,16.821,16.821,0,0,1-1.006,5.963,12.227,12.227,0,0,1-2.907,4.547,13.484,13.484,0,0,1-4.547,2.944,15.964,15.964,0,0,1-5.925,1.043Zm18.41-14.5a11.274,11.274,0,0,0-.522-3.466,7.723,7.723,0,0,0-1.491-2.72,6.616,6.616,0,0,0-2.385-1.752,8.055,8.055,0,0,0-3.205-.6h-4.1v17.18h4.1a7.985,7.985,0,0,0,3.242-.634,6.8,6.8,0,0,0,2.385-1.826,8.286,8.286,0,0,0,1.453-2.72A11.634,11.634,0,0,0,169.81,15.322Z" transform="translate(-94.978 -0.565)"></path>
                        <path id="Path_3" data-name="Path 3" class="footer-logo-fill" d="M228.3,29.819V.9h6.671V29.819Z" transform="translate(-143.219 -0.565)"></path>
                        <path id="Path_4" data-name="Path 4" class="footer-logo-fill" d="M259.9,29.819V.9h6.671V23.968h14.012v5.851Z" transform="translate(-163.043 -0.565)"></path>
                        <path id="Path_5" data-name="Path 5" class="footer-logo-fill" d="M327.371,23.931V.9H320.7V29.819h18.522l2.124-5.851H327.371Z" transform="translate(-201.185 -0.565)"></path>
                        <path id="Path_6" data-name="Path 6" class="footer-logo-fill" d="M388.547.9h6.037L405.13,29.819h-6.857l-2.236-6.484h-9.019l-2.2,6.484H378Zm6.373,17.851L391.528,8.54l-3.466,10.211Z" transform="translate(-237.13 -0.565)"></path>
                    </svg>
                </a>
                <ul class="nav">
                    <li>
                        <a href="https://kodilla.com/pl/regulamin" rel="nofollow">Regulamin</a>
                    </li>
                    <li>
                        <a href="https://kodilla.com/pl/polityka-prywatnosci" rel="nofollow">Polityka prywatności</a>
                    </li>
                    <li class="nav-item nav-item-last">© 2022 Kodilla</li>
                </ul>
            </nav>
        </section>
    </footer>

<!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KN2WWBH" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <script src="./Moduł_ 2. Pandas i Matplotlib_files/jquery-2.1.4.min.js"></script>
<script src="./Moduł_ 2. Pandas i Matplotlib_files/js.cookie-2.1.0.min.js"></script>
<script src="./Moduł_ 2. Pandas i Matplotlib_files/jquery-dateFormat.min.js"></script>
<script src="./Moduł_ 2. Pandas i Matplotlib_files/bootstrap.min.js"></script>
<script>
    (function () {
        $(document).ready(function () {
            if (window.location.hash === '#informator-modal') {
                showInformator();
            }
        });

        $('[data-action="show-modal"]').click(function() {
            showInformator();
        });

        function showInformator() {
            $('#informator').modal('show');
        }
    })();
</script>
<script src="./Moduł_ 2. Pandas i Matplotlib_files/fb-412414a519.js" async=""></script>
<script src="./Moduł_ 2. Pandas i Matplotlib_files/call-us-261b222cf4.js"></script>
<script>
    if (document.querySelector('main.editor')) {
        document.querySelector('body').classList.add('editor');
    }
</script>

<script type="text/javascript" async="">
  setTimeout(function (){
      (function(e,t,o,n,p,r,i){e.visitorGlobalObjectAlias=n;e[e.visitorGlobalObjectAlias]=e[e.visitorGlobalObjectAlias]||function(){(e[e.visitorGlobalObjectAlias].q=e[e.visitorGlobalObjectAlias].q||[]).push(arguments)};e[e.visitorGlobalObjectAlias].l=(new Date).getTime();r=t.createElement("script");r.src=o;r.async=true;i=t.getElementsByTagName("script")[0];i.parentNode.insertBefore(r,i)})(window,document,"https://diffuser-cdn.app-us1.com/diffuser/diffuser.js","vgo");
      vgo('setAccount', '649095895');
      vgo('setTrackByDefault', true);

      vgo('process');
  }, 3000);

</script>

<script>
    document.addEventListener("DOMContentLoaded", yall);
    window.environment = 'production';
    window.loggedIn = true;
    window.domain = 'https://kodilla.com';
            window.fbAppId = 1449248938627896;
    window.chatService = 'LiveAgent';
    window.useMessenger = window.chatService === 'Messenger';
    window.locale = 'pl';
    window.lang = 'pl';

    window.serverUTC       = 1641582324000;
    window.serverOffset    = 60;
    window.userDate        = new Date();
    window.userUTC         = userDate.getTime();
    window.userOffset      = userDate.getTimezoneOffset() * (-1);
    window.userClockDiff   = userUTC - serverUTC;
    window.diffRounded     = Math.round( userClockDiff / ( 1000 * 60 * 15 ) );
    window.isDifferentZone = ( userOffset - serverOffset !== 0 ) ? 1 : 0;
    window.hasWrongTime    = ( diffRounded !== 0 ) ? 1 : 0;
    window.dateTooltipText = 'Data i godzina są podane dla Twojej strefy czasowej GMT. <br>W razie wątpliwości napisz: <u>support@kodilla.com</u>.';
    window.wrongHourNotice = 'Godzina na Twoim urządzeniu r&oacute;żni się od godziny obowiązującej w strefie czasowej wybranej w ustawieniach Twojego urządzenia.';

    window.PAYU_HASH_ALGORITHM = 'SHA-256';
    window.PAYU_POS_ID = 1429452;
    window.PAYU_MD5_SECOND_KEY = 'f3627be5fab5a4238c8474936f057908';

    var moment = undefined,
        momentReady = function( method, method2, count ){
            var c = ( count ) ? count : 0;

            if      ( isDifferentZone && moment !== undefined ){
                if      ( method ) { method(); }
                else    { return false; }
            }
            else if ( isDifferentZone && moment === undefined ) {
                if ( c < 20 ) {
                    c++;
                    setTimeout( function() { momentReady( method, method2, c ); }
                        , 300 );
                } else {
                    if      ( method2 === true && method )  { method(); }
                    else if ( method2 !== true && method2 ) { method2(); }
                }
            }
            else {
                if      ( method2 === true && method )  { method(); }
                else if ( method2 !== true && method2 ) { method2(); }
                else    { return false; }
            }
        };

    if ( window.isDifferentZone && moment === undefined ) {
        var script = document.createElement("script");
        script.type = "text/javascript";
        script.src = '/static/js/libs/moment.timezone.locales.min.js?v=2.22.2';
        document.getElementsByTagName("head")[0].appendChild(script);
    }
</script>
<script src="./Moduł_ 2. Pandas i Matplotlib_files/OneSignalSDK.js" async=""></script>
<script>
    var OneSignal = window.OneSignal || [];
    OneSignal.push(function() {
        OneSignal.init({
            appId: "92552bb5-b477-4ea2-8260-dba65be198d9",
        });
    });
</script>
<script data-ad-client="ca-pub-9483216428129091" async="" src="./Moduł_ 2. Pandas i Matplotlib_files/f(4).txt" data-checked-head="true"></script>
<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:2404285,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>
        <script src="./Moduł_ 2. Pandas i Matplotlib_files/underscore-min.js"></script>
<script src="./Moduł_ 2. Pandas i Matplotlib_files/backbone-min.js"></script>
<script src="./Moduł_ 2. Pandas i Matplotlib_files/backbone-relational.min.js"></script>
<script src="./Moduł_ 2. Pandas i Matplotlib_files/backbone-super.min.js"></script>
<script src="./Moduł_ 2. Pandas i Matplotlib_files/handlebars-v4.0.5.min.js"></script>
<script src="./Moduł_ 2. Pandas i Matplotlib_files/handlebars-ifCond-139a2339f7.js"></script>
<script src="./Moduł_ 2. Pandas i Matplotlib_files/application-0dcfdc1306.js"></script>
<script src="./Moduł_ 2. Pandas i Matplotlib_files/main-799ae30bad.js"></script>
<script src="./Moduł_ 2. Pandas i Matplotlib_files/settings-5fc44a761b.js"></script>
<script src="./Moduł_ 2. Pandas i Matplotlib_files/delete-account-da2b3de486.js"></script>
<script type="text/x-translation" data-translation-name="checkAccountDeleteCalculationMessage">Wynik jest nieprawidłowy</script>
<script src="./Moduł_ 2. Pandas i Matplotlib_files/forms-222ea01b08.js"></script>
<script src="./Moduł_ 2. Pandas i Matplotlib_files/alerts-66650c3acb.js"></script>
<script>
    App.Views.InpageAlertManager = Backbone.View.extend({
        events: {
            'click [data-alert-type][data-alert-text]': 'showAlert'
        },
        showAlert: function(e) {
            var $el = $(e.currentTarget);
            App.alertsView['show'+$el.data('alertType')]([App.Translations($el.data('alertText'))]);
        }
    });
</script>
<script src="./Moduł_ 2. Pandas i Matplotlib_files/collections-c07e1162e2.js"></script>
<script src="./Moduł_ 2. Pandas i Matplotlib_files/models-4e0e4fcffb.js"></script>
<script src="./Moduł_ 2. Pandas i Matplotlib_files/knowledge-base-61f71273c9.js"></script>
<script>
    App.Views.LearningProgram = Backbone.View.extend({
        events: {
            'click [data-technology-desc-expander]' : 'expandTechnologyDesc'
        },

        initialize: function() {
            this.$allTechnologyDesc = this.$el.find('[data-technology-desc]');
            this.$allTechnologyExpanderIcons = this.$el.find('[data-technology-expander-icon]');
        },

        expandTechnologyDesc: function() {
            this.$allTechnologyDesc.each(function(){
                var $desc = $(this);
                $desc.slideToggle('fast');
            });
            this.$allTechnologyExpanderIcons.each(function(){
                var $icon = $(this);
                $icon.toggleClass("fa-minus");
            });
        },
    });
</script>

    <script src="./Moduł_ 2. Pandas i Matplotlib_files/tether.min.js"></script>
    <script src="./Moduł_ 2. Pandas i Matplotlib_files/prism.min.js"></script>

    <script src="./Moduł_ 2. Pandas i Matplotlib_files/bootcamp-1522c7c010.js"></script>
    <script src="./Moduł_ 2. Pandas i Matplotlib_files/jquery.seourl.min.js"></script>
    <script src="./Moduł_ 2. Pandas i Matplotlib_files/perfect-scrollbar.jquery.min.js"></script>
    <script src="./Moduł_ 2. Pandas i Matplotlib_files/jquery.fancybox.min.js"></script>
    <script src="./Moduł_ 2. Pandas i Matplotlib_files/moment.timezone.locales.min.js"></script>
    <script src="./Moduł_ 2. Pandas i Matplotlib_files/bootstrap-datetimepicker.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            $("a.img-modal-group").fancybox();
        });
    </script>

<div class="modal fade" tabindex="-1" role="dialog" id="call-us-modal">
    <div class="modal-dialog modal-dialog-callus" role="document">
        <div class="modal-content call-modal">
            <div id="call-us-step1">
                <h2>Umów się na rozmowę z doradcą Kodilli</h2>
                <p>Krok <span>1/2:</span> Podaj numer telefonu</p>
                <form action="https://kodilla.com/pl/call-center/dates/phone_calls" method="post" id="call-us-form1">
                    <input type="tel" name="phone" id="call-us-input-phone" class="call-center-input" placeholder="731771787">
                    <p class="error-message display-none" id="validation-message-phone">Pole Numer Telefonu jest wymagane. Nieprawidłowy format.</p>
                    <button class="btn btn-success" id="call-us-submit-phone">Zarezerwuj rozmowę</button>
                </form>
                <p id="call-us-counter-holder" style="display: none;">Dzisiaj już  <span id="call-us-counter" class="call-counter" data-url="https://kodilla.com/pl/call-center/counter/phone_calls">-</span> <span id="call-us-counter-text" data-one=" osoba zamówiła rozmowę z nami." data-few=" osoby zamówiły rozmowę z nami." data-more=" osób zamówiło rozmowę z nami."></span></p>
                <div class="data-protection">
                    <p>Twój numer telefonu nie będzie wykorzystywany w celach marketingowych ani przekazany dalej. Tylko oddzwonimy. Dane są przetwarzane zgodnie z <a href="https://kodilla.com/pl/polityka-prywatnosci">Polityką Prywatności</a>.</p>
                </div>
            </div>

            <div id="call-us-step2" style="display: none;">
                <h2>Wybierz dogodny termin i godzinę na rozmowę z doradcą</h2>
                <p>Krok <span>2/2:</span>
                </p><form action="https://kodilla.com/pl/call-center/step2/phone_calls" method="post" id="call-us-form2">
                    <div class="select-date">
                        <select name="date" id="call-us-input-date">
                        </select>
                        <select name="time" id="call-us-input-time">
                        </select>
                    </div>
                    <button class="btn btn-success" id="call-us-submit-call">Oddzwońcie do mnie!</button>
                </form>
            </div>

            <div id="call-us-step3" style="display: none;">
                <div class="thanks">
                    <i class="fa fa-check-circle" aria-hidden="true"></i>
                    <h2>Dziękujemy za zamowienie rozmowy! Do usłyszenia w wybranym terminie!</h2>
                </div>
            </div>
        </div>
    </div>
</div>



                <style type="text/css">
    .embeddedServiceHelpButton .helpButton .uiButton {
        background-color: #1EA71C;
        font-family: "Arial", sans-serif;
    }
    .embeddedServiceHelpButton .helpButton .uiButton:focus {
        outline: 1px solid #1EA71C;
    }
</style>
<ins class="adsbygoogle adsbygoogle-noablate" data-adsbygoogle-status="done" style="display: none !important;" data-ad-status="unfilled"><ins id="aswift_0_expand" tabindex="0" title="Advertisement" aria-label="Advertisement" style="border: none; height: 0px; width: 0px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: inline-table;"><ins id="aswift_0_anchor" style="border: none; height: 0px; width: 0px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: block;"><iframe id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;border:0;width:undefinedpx;height:undefinedpx;" sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" frameborder="0" src="./Moduł_ 2. Pandas i Matplotlib_files/ads.html" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" data-google-container-id="a!1" data-load-complete="true"></iframe></ins></ins></ins><script>
    function openChat(){
        $('.helpButtonEnabled').trigger('click');
    }
</script>
<script type="text/javascript" src="./Moduł_ 2. Pandas i Matplotlib_files/esw.min.js"></script>

<script type="text/javascript">
    var initESW = function(gslbBaseURL) {
        let firstName = 'Agnieszka Blicharska'.split(" ")[0];
        let lastName = 'Agnieszka Blicharska'.split(" ")[1];
        console.log(name);
        embedded_svc.settings.displayHelpButton = true;
        embedded_svc.settings.language = '';

        embedded_svc.settings.defaultMinimizedText =  'Skontaktuj się z nami';
        embedded_svc.settings.disabledMinimizedText = ' ';

        embedded_svc.settings.loadingText = 'Ładowanie';
        embedded_svc.settings.storageDomain = 'kodilla.com';

        embedded_svc.settings.prepopulatedPrechatFields = {
            'FirstName': firstName,
            'LastName': lastName,
            'Email': 'agnieszka.blicharska@gmail.com'
        };
        embedded_svc.settings.offlineSupportMinimizedText = 'Napisz do nas';

        embedded_svc.settings.enabledFeatures = ['LiveAgent'];
        embedded_svc.settings.entryFeature = 'LiveAgent';

        embedded_svc.init(
            'https://kodilla.my.salesforce.com',
            'https://kodillacommunity.force.com',
            gslbBaseURL,
            '00D1i000000VBFH',
            'Support_Kodilla',
            {
                baseLiveAgentContentURL: 'https://c.la1-c2-fra.salesforceliveagent.com/content',
                deploymentId: '5721i00000009s9',
                buttonId: '5731i0000000AJN',
                baseLiveAgentURL: 'https://d.la1-c2-fra.salesforceliveagent.com/chat',
                eswLiveAgentDevName: 'Support_Kodilla',
                isOfflineSupportEnabled: true
            }
        );
    };

    if (!window.embedded_svc) {
        var s = document.createElement('script');
        s.setAttribute('src', 'https://kodilla.my.salesforce.com/embeddedservice/5.0/esw.min.js');
        s.onload = function() {
            initESW(null);
        };
        document.body.appendChild(s);
    } else {
        initESW('https://service.force.com');
    }
</script><script id="common-script" type="text/javascript" src="./Moduł_ 2. Pandas i Matplotlib_files/common.min.js"></script>
        <div data-role="notifications-wrapper" class="notifications-wrapper"></div>
<!-- Facebook Pixel Code -->
    <script>
        setTimeout(function(){
            !function(f,b,e,v,n,t,s)
            {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
                n.callMethod.apply(n,arguments):n.queue.push(arguments)};
                if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
                n.queue=[];t=b.createElement(e);t.async=!0;
                t.src=v;s=b.getElementsByTagName(e)[0];
                s.parentNode.insertBefore(t,s)}(window, document,'script',
                'https://connect.facebook.net/en_US/fbevents.js');
            fbq('init', 389137334769464 );
            fbq('track', 'PageView');
        }, 3000);
    </script>
    <!-- End Facebook Pixel Code -->

    <!-- Google Tag Manager -->
    <script>
        setTimeout(function () {
            (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
            })(window,document,'script','dataLayer','GTM-KN2WWBH');
        }, 3000);

    </script>
    <!-- End Google Tag Manager -->

    
    

<script id="liveagent-esw-script" type="text/javascript" src="./Moduł_ 2. Pandas i Matplotlib_files/liveagent.esw.min.js"></script><iframe name="_hjRemoteVarsFrame" title="_hjRemoteVarsFrame" id="_hjRemoteVarsFrame" src="./Moduł_ 2. Pandas i Matplotlib_files/box-a1ae2079824d1c48aa9ce06efb256f18.html" style="display: none !important; width: 1px !important; height: 1px !important; opacity: 0 !important; pointer-events: none !important;"></iframe><form id="fileUploadForm" enctype="multipart/form-data" method="post" target="fileUploadIframe"><input type="file" id="fileSelector" name="file" style="display: none;"><input name="filename" type="hidden"></form><iframe id="fileUploadIframe" name="fileUploadIframe" title="FileUploadFrame" style="display: none;" src="./Moduł_ 2. Pandas i Matplotlib_files/saved_resource.html"></iframe><iframe id="esw_storage_iframe" src="./Moduł_ 2. Pandas i Matplotlib_files/esw.html" title="Live Chat Metadata" style="display: none;"></iframe><iframe src="./Moduł_ 2. Pandas i Matplotlib_files/aframe.html" width="0" height="0" style="display: none;"></iframe><script type="text/javascript" src="./Moduł_ 2. Pandas i Matplotlib_files/EmbeddedServiceConfig.jsonp"></script><script id="invite-esw-script" type="text/javascript" src="./Moduł_ 2. Pandas i Matplotlib_files/invite.esw.min.js"></script><div class="embeddedServiceHelpButton"><div class="helpButton"><button class="helpButtonEnabled uiButton" href="javascript:void(0)"><span class="embeddedServiceIcon" aria-hidden="true" data-icon="" style="display: inline-block;"></span><span class="helpButtonLabel" id="helpButtonSpan" aria-live="polite" aria-atomic="true"><span class="assistiveText">Live chat:</span><span class="message">Napisz do nas</span></span></button></div></div><script id="inert-script" type="text/javascript" src="./Moduł_ 2. Pandas i Matplotlib_files/inert.min.js"></script><script type="text/javascript" src="./Moduł_ 2. Pandas i Matplotlib_files/EmbeddedServiceConfig(1).jsonp"></script>
<script type="text/javascript" id="">window._tfa=window._tfa||[];window._tfa.push({notify:"event",name:"page_view",id:1209537});!function(a,b,d,c){document.getElementById(c)||(a.async=1,a.src=d,a.id=c,b.parentNode.insertBefore(a,b))}(document.createElement("script"),document.getElementsByTagName("script")[0],"//cdn.taboola.com/libtrc/unip/1209537/tfa.js","tb_tfa_script");</script>
<noscript>
  <img src="//trc.taboola.com/1209537/log/3/unip?en=page_view" width="0" height="0" style="display:none">
</noscript>


<script type="text/javascript" id="">window._adftrack=Array.isArray(window._adftrack)?window._adftrack:window._adftrack?[window._adftrack]:[];window._adftrack.push({pm:2049944});(function(){var a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src="https://track.adform.net/serving/scripts/trackpoint/async/";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)})();</script>
<noscript>
    <p style="margin:0;padding:0;border:0;">
        <img src="https://track.adform.net/Serving/TrackPoint/?pm=2049944" width="1" height="1" alt="">
    </p>
</noscript>

<script type="text/javascript" id="">(function(){window.__insp=window.__insp||[];__insp.push(["wid",794470694]);var c=function(){if("undefined"==typeof window.__inspld){window.__inspld=1;var a=document.createElement("script");a.type="text/javascript";a.async=!0;a.id="inspsync";a.src=("https:"==document.location.protocol?"https":"http")+"://cdn.inspectlet.com/inspectlet.js?wid\x3d794470694\x26r\x3d"+Math.floor((new Date).getTime()/36E5);var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}};setTimeout(c,0)})();</script>
<div id="fb-root" class=" fb_reset"><div style="position: absolute; top: -10000px; width: 0px; height: 0px;"><div></div></div></div></body><iframe id="google_esf" name="google_esf" src="./Moduł_ 2. Pandas i Matplotlib_files/zrt_lookup.html" style="display: none;"></iframe><loom-container id="lo-engage-ext-container"><loom-shadow classname="resolved"></loom-shadow></loom-container><loom-container id="lo-companion-container"><loom-shadow classname="resolved"></loom-shadow></loom-container></html>